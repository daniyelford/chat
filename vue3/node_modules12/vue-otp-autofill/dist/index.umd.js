(function(e,a){typeof exports=="object"&&typeof module<"u"?module.exports=a(require("vue")):typeof define=="function"&&define.amd?define(["vue"],a):(e=typeof globalThis<"u"?globalThis:e||self,e.OtpInput=a(e.Vue))})(this,(function(e){"use strict";const a={class:"otp-container"},u=["onUpdate:modelValue","onKeyup"];return{__name:"OtpInput",props:{modelValue:{type:String,default:""},length:{type:Number,default:6}},emits:["update:modelValue"],setup(p,{emit:f}){const s=e.ref(""),d=e.ref(null),i=p,m=f,l=e.ref(Array.from({length:i.length},(t,n)=>i.modelValue[n]||"")),h=(t,n)=>{const o=t.currentTarget.parentElement.children,r=/^[0-9]$/.test(t.key);if(!r&&!["Backspace","ArrowLeft","ArrowRight","Tab"].includes(t.key)){t.preventDefault();return}if(r){l.value[n]=t.key,t.preventDefault(),n<l.value.length-1&&e.nextTick(()=>o[n+1].focus());return}if(t.key==="Backspace"){l.value[n]="",t.preventDefault(),n>0&&e.nextTick(()=>o[n-1].focus());return}t.key==="ArrowLeft"&&n>0&&e.nextTick(()=>o[n-1].focus()),t.key==="ArrowRight"&&n<l.value.length-1&&e.nextTick(()=>o[n+1].focus())};return e.watch(l,()=>{m("update:modelValue",l.value.join(""))},{deep:!0}),e.onMounted(()=>{const t=document.createElement("style");if(t.textContent=`
    .otp-container { direction: ltr;display: flex; gap: 0.5rem; justify-content: space-evenly; }
    .digit-box { width: 1.5rem; height: 2rem; font-size: 1rem; text-align: center; border: 2px solid black; border-radius: 6px; }
    .bounce { animation: pulse 0.3s ease-in-out alternate; } 
      @keyframes pulse { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }
    `,document.head.appendChild(t),"OTPCredential"in window){const n=new AbortController;navigator.credentials.get({otp:{transport:["sms"]},signal:n.signal}).then(o=>{d.value=o,o?.code?l.value=o.code.split("").slice(0,i.length):s.value="OTP code not received!"}).catch(o=>{s.value=o.message})}else console.log("WebOTP not supported on this device.")}),(t,n)=>(e.openBlock(),e.createElementBlock("div",a,[e.createTextVNode(e.toDisplayString(s.value??"")+" "+e.toDisplayString(d.value)+" ",1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(o,r)=>e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:r,type:"text",class:e.normalizeClass(["digit-box",{bounce:o!==""}]),"onUpdate:modelValue":c=>l.value[r]=c,maxlength:"1",onKeyup:c=>h(c,r)},null,42,u)),[[e.vModelText,l.value[r]]])),128))]))}}}));
