{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nconst _hoisted_3 = {\n  key: 0\n};\nimport { onMounted, onUnmounted, watch, computed } from 'vue';\nimport { cartableStore } from '@/stores/cartableStore';\nexport default {\n  __name: 'ShowCartable',\n  props: {\n    id: Number\n  },\n  setup(__props) {\n    const props = __props;\n    const store = cartableStore();\n    const item = computed(() => store.getCartableById(props.id));\n    onMounted(async () => {\n      if (!store.allItems.length) {\n        await store.fetchCartables();\n      }\n      store.startPolling();\n    });\n    onUnmounted(() => {\n      store.stopPolling();\n    });\n    watch(props.id, async (newId, oldId) => {\n      if (newId !== oldId) {\n        if (!store.allItems.length) {\n          await store.fetchCartables();\n        }\n      }\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", null, [!item.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \" در حال بارگذاری یا موردی یافت نشد \")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"h2\", null, \"شرح خبر: \" + _toDisplayString(item.value.description), 1), _createElementVNode(\"p\", null, \"وضعیت: \" + _toDisplayString(item.value.status), 1), _createElementVNode(\"p\", null, \"آدرس: \" + _toDisplayString(item.value.address?.city || 'نامشخص'), 1), item.value.media?.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _cache[0] || (_cache[0] = [_createElementVNode(\"h3\", null, \"رسانه‌ها:\", -1), _createElementVNode(\"ul\", null, null, -1)]))) : _createCommentVNode(\"\", true)]))]);\n    };\n  }\n};","map":{"version":3,"names":["onMounted","onUnmounted","watch","computed","cartableStore","props","__props","store","item","getCartableById","id","allItems","length","fetchCartables","startPolling","stopPolling","newId","oldId"],"sources":["D:/GitHub/ci3-vue3/vue3/src/components/dashboard/pagesContent/ShowCartable.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div v-if=\"!item\">\r\n            در حال بارگذاری یا موردی یافت نشد\r\n        </div>\r\n        <div v-else>\r\n            <h2>شرح خبر: {{ item.description }}</h2>\r\n            <p>وضعیت: {{ item.status }}</p>\r\n            <p>آدرس: {{ item.address?.city || 'نامشخص' }}</p>\r\n            <div v-if=\"item.media?.length\">\r\n                <h3>رسانه‌ها:</h3>\r\n                <ul>\r\n                    <!-- <li v-for=\"m in item.media\" :key=\"m.id\">\r\n                        <template v-if=\"m.type === 'video'\">\r\n                        <video controls :src=\"m.url\" width=\"320\"></video>\r\n                        </template>\r\n                        <template v-else>\r\n                        <img :src=\"m.url\" alt=\"media\" style=\"max-width: 320px;\" />\r\n                        </template>\r\n                    </li> -->\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script setup>\r\n    import { onMounted , onUnmounted , defineProps , watch , computed } from 'vue'\r\n    import { cartableStore } from '@/stores/cartableStore'\r\n    const props = defineProps({\r\n        id: Number\r\n    })\r\n    const store = cartableStore()\r\n    const item = computed(() => store.getCartableById(props.id))\r\n    onMounted(async () => {\r\n        if (!store.allItems.length) {\r\n            await store.fetchCartables()\r\n        }\r\n        store.startPolling()\r\n    })\r\n    onUnmounted(() => {\r\n        store.stopPolling()\r\n    })\r\n    watch(props.id, async (newId, oldId) => {\r\n        if (newId !== oldId) {\r\n            if (!store.allItems.length) {\r\n                await store.fetchCartables()\r\n            }\r\n        }\r\n    })\r\n</script>"],"mappings":";;;;;;;;;;AA0BI,SAASA,SAAS,EAAGC,WAAyB,EAAGC,KAAK,EAAGC,QAAQ,QAAQ,KAAK;AAC9E,SAASC,aAAa,QAAQ,wBAAwB;;;;;;;IACtD,MAAMC,KAAK,GAAGC,OAEZ;IACF,MAAMC,KAAK,GAAGH,aAAa,CAAC,CAAC;IAC7B,MAAMI,IAAI,GAAGL,QAAQ,CAAC,MAAMI,KAAK,CAACE,eAAe,CAACJ,KAAK,CAACK,EAAE,CAAC,CAAC;IAC5DV,SAAS,CAAC,YAAY;MAClB,IAAI,CAACO,KAAK,CAACI,QAAQ,CAACC,MAAM,EAAE;QACxB,MAAML,KAAK,CAACM,cAAc,CAAC,CAAC;MAChC;MACAN,KAAK,CAACO,YAAY,CAAC,CAAC;IACxB,CAAC,CAAC;IACFb,WAAW,CAAC,MAAM;MACdM,KAAK,CAACQ,WAAW,CAAC,CAAC;IACvB,CAAC,CAAC;IACFb,KAAK,CAACG,KAAK,CAACK,EAAE,EAAE,OAAOM,KAAK,EAAEC,KAAK,KAAK;MACpC,IAAID,KAAK,KAAKC,KAAK,EAAE;QACjB,IAAI,CAACV,KAAK,CAACI,QAAQ,CAACC,MAAM,EAAE;UACxB,MAAML,KAAK,CAACM,cAAc,CAAC,CAAC;QAChC;MACJ;IACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}