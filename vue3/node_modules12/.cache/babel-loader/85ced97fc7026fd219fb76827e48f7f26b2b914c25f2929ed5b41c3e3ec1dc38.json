{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { sendApi } from '@/utils/api';\nexport default {\n  name: 'PhoneLogin',\n  data() {\n    return {\n      phone: '',\n      code: '',\n      message: '',\n      step: 1,\n      sentOnce: false,\n      showSend: false,\n      resendDisabled: true,\n      countdown: 120,\n      countdownInterval: null,\n      submitDisabled: false,\n      submitCountdown: 60,\n      submitInterval: null\n    };\n  },\n  mounted() {\n    const savedPhone = sessionStorage.getItem('phone');\n    const sentAt = sessionStorage.getItem('sent_at');\n    if (savedPhone && sentAt) {\n      const elapsed = Math.floor((Date.now() - Number(sentAt)) / 1000);\n      if (elapsed < 300) {\n        this.phone = savedPhone;\n        this.step = 2;\n        this.showSend = true;\n        this.sentOnce = true;\n        this.startCountdown(120 - elapsed);\n      } else {\n        sessionStorage.removeItem('phone');\n        sessionStorage.removeItem('sent_at');\n      }\n    }\n    const submitLockedAt = localStorage.getItem('submit_locked_at');\n    const submitCountdownStored = localStorage.getItem('submit_countdown');\n    if (submitLockedAt && submitCountdownStored) {\n      const submitElapsed = Math.floor((Date.now() - Number(submitLockedAt)) / 1000);\n      const remaining = Number(submitCountdownStored) - submitElapsed;\n      if (remaining > 0) {\n        this.startSubmitLock(remaining);\n      } else {\n        localStorage.removeItem('submit_locked_at');\n        localStorage.removeItem('submit_countdown');\n      }\n    }\n  },\n  watch: {\n    phone: {\n      handler: async function (newVal) {\n        const isValid = /^09\\d{9}$/.test(newVal);\n        if (isValid && !this.sentOnce) {\n          try {\n            const response = await sendApi({\n              action: 'save_phone',\n              data: newVal,\n              control: 'login'\n            });\n            if (response.status === 'success') {\n              this.sentOnce = true;\n              this.showSend = true;\n              this.$emit('validPhone', true);\n            }\n          } catch (e) {\n            console.error('خطا در ارسال شماره:', e);\n          }\n        } else if (!isValid && this.sentOnce) {\n          try {\n            const responseDel = await sendApi({\n              control: 'security',\n              action: 'delete_phone'\n            });\n            if (responseDel.status === 'success') {\n              this.sentOnce = false;\n              this.showSend = false;\n              this.$emit('validPhone', false);\n            }\n          } catch (e) {\n            console.error('خطا در حذف شماره:', e);\n          }\n        }\n      }\n    }\n  },\n  methods: {\n    startCountdown(seconds = 120) {\n      this.resendDisabled = true;\n      this.countdown = seconds;\n      if (this.countdownInterval) clearInterval(this.countdownInterval);\n      this.countdownInterval = setInterval(() => {\n        this.countdown--;\n        if (this.countdown <= 0) {\n          this.resendDisabled = false;\n          clearInterval(this.countdownInterval);\n        }\n      }, 1000);\n    },\n    startSubmitLock(seconds = 60) {\n      this.submitDisabled = true;\n      this.submitCountdown = seconds;\n      localStorage.setItem('submit_locked_at', Date.now().toString());\n      localStorage.setItem('submit_countdown', this.submitCountdown.toString());\n      if (this.submitInterval) clearInterval(this.submitInterval);\n      this.submitInterval = setInterval(() => {\n        this.submitCountdown--;\n        localStorage.setItem('submit_countdown', this.submitCountdown.toString());\n        if (this.submitCountdown <= 0) {\n          this.submitDisabled = false;\n          clearInterval(this.submitInterval);\n          localStorage.removeItem('submit_locked_at');\n          localStorage.removeItem('submit_countdown');\n        }\n      }, 1000);\n    },\n    async submitPhone() {\n      if (this.submitDisabled) return;\n      try {\n        const response = await sendApi({\n          action: 'send_phone_login',\n          data: this.phone,\n          control: 'login'\n        });\n        if (response.status === 'success') {\n          this.message = 'شماره با موفقیت ارسال شد. لطفاً کد پیامکی را وارد کنید.';\n          this.step = 2;\n          this.showSend = true;\n          this.sentOnce = true;\n          this.startCountdown();\n          this.startSubmitLock();\n          sessionStorage.setItem('phone', this.phone);\n          sessionStorage.setItem('sent_at', Date.now().toString());\n        } else {\n          this.message = response.message || 'ارسال موفق نبود';\n        }\n      } catch (error) {\n        this.message = 'خطا در ارسال شماره.';\n        console.error(error);\n      }\n    },\n    async submitCode() {\n      try {\n        const response = await sendApi({\n          action: 'verify_sms_code',\n          data: {\n            phone: this.phone,\n            code: this.code\n          },\n          control: 'login'\n        });\n        if (response.status === 'success') {\n          sessionStorage.removeItem('phone');\n          sessionStorage.removeItem('sent_at');\n          localStorage.removeItem('submit_locked_at');\n          localStorage.removeItem('submit_countdown');\n          if (response.url === 'dashboard') {\n            localStorage.setItem('isLogin', true);\n            window.dispatchEvent(new Event(\"storage\"));\n            this.$router.push({\n              name: 'dashboard'\n            });\n          } else if (response.url === 'register') {\n            this.$router.push({\n              name: 'register'\n            });\n          } else {\n            this.message = 'مشخصات ناقص است. لطفاً دوباره تلاش کنید.';\n          }\n        } else {\n          this.message = 'کد وارد شده اشتباه است.';\n        }\n      } catch (error) {\n        this.message = 'خطا در تأیید کد.';\n        console.error(error);\n      }\n    },\n    editPhone() {\n      this.step = 1;\n      this.message = '';\n      this.code = '';\n      this.sentOnce = false;\n      this.showSend = true;\n      sessionStorage.removeItem('phone');\n      sessionStorage.removeItem('sent_at');\n      if (this.countdownInterval) clearInterval(this.countdownInterval);\n      localStorage.removeItem('submit_locked_at');\n      localStorage.removeItem('submit_countdown');\n      this.startSubmitLock();\n    },\n    async resendCode() {\n      if (this.resendDisabled) return;\n      try {\n        const response = await sendApi({\n          action: 'send_phone_login',\n          data: this.phone,\n          control: 'login'\n        });\n        if (response.status === 'success') {\n          this.message = 'کد مجدداً ارسال شد.';\n          this.startCountdown();\n          sessionStorage.setItem('sent_at', Date.now().toString());\n        } else {\n          this.message = response.message || 'ارسال مجدد موفق نبود';\n        }\n      } catch (error) {\n        this.message = 'خطا در ارسال مجدد کد.';\n        console.error(error);\n      }\n    }\n  },\n  beforeUnmount() {\n    if (this.countdownInterval) clearInterval(this.countdownInterval);\n    if (this.submitInterval) clearInterval(this.submitInterval);\n  }\n};","map":{"version":3,"names":["sendApi","name","data","phone","code","message","step","sentOnce","showSend","resendDisabled","countdown","countdownInterval","submitDisabled","submitCountdown","submitInterval","mounted","savedPhone","sessionStorage","getItem","sentAt","elapsed","Math","floor","Date","now","Number","startCountdown","removeItem","submitLockedAt","localStorage","submitCountdownStored","submitElapsed","remaining","startSubmitLock","watch","handler","newVal","isValid","test","response","action","control","status","$emit","e","console","error","responseDel","methods","seconds","clearInterval","setInterval","setItem","toString","submitPhone","submitCode","url","window","dispatchEvent","Event","$router","push","editPhone","resendCode","beforeUnmount"],"sources":["D:\\GitHub\\ci3-vue3\\vue3\\src\\components\\home\\PhoneLogin.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <form v-if=\"step === 1\" @submit.prevent=\"submitPhone\">\r\n      <label for=\"phone\">شماره تلفن:</label>\r\n      <input\r\n        id=\"phone\"\r\n        v-model=\"phone\"\r\n        type=\"tel\"\r\n        maxlength=\"11\"\r\n        pattern=\"[0-9]*\"\r\n        placeholder=\"09123456789\"\r\n        required\r\n      />\r\n      <button v-if=\"showSend\" :disabled=\"submitDisabled\" type=\"submit\">\r\n        ارسال\r\n        <span v-if=\"submitDisabled\">({{ submitCountdown }} ثانیه)</span>\r\n      </button>\r\n      <p v-if=\"message\">{{ message }}</p>\r\n    </form>\r\n\r\n    <form v-else-if=\"step === 2\" @submit.prevent=\"submitCode\">\r\n      <label for=\"code\">کد پیامک شده:</label>\r\n      <input\r\n        id=\"code\"\r\n        v-model=\"code\"\r\n        type=\"text\"\r\n        placeholder=\"کد تأیید\"\r\n        required\r\n      />\r\n      <button type=\"submit\">تأیید کد</button>\r\n      <button type=\"button\" @click=\"editPhone\" style=\"margin-top: 10px;\">\r\n        ویرایش شماره\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        @click=\"resendCode\"\r\n        :disabled=\"resendDisabled\"\r\n        style=\"margin-top: 10px;\"\r\n      >\r\n        ارسال مجدد کد\r\n        <span v-if=\"resendDisabled\">({{ countdown }} ثانیه)</span>\r\n      </button>\r\n      <p v-if=\"message\">{{ message }}</p>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { sendApi } from '@/utils/api'\r\n\r\nexport default {\r\n  name: 'PhoneLogin',\r\n  data() {\r\n    return {\r\n      phone: '',\r\n      code: '',\r\n      message: '',\r\n      step: 1,\r\n      sentOnce: false,\r\n      showSend: false,\r\n      resendDisabled: true,\r\n      countdown: 120,\r\n      countdownInterval: null,\r\n      submitDisabled: false,\r\n      submitCountdown: 60,\r\n      submitInterval: null,\r\n    }\r\n  },\r\n  mounted() {\r\n    const savedPhone = sessionStorage.getItem('phone')\r\n    const sentAt = sessionStorage.getItem('sent_at')\r\n    if (savedPhone && sentAt) {\r\n      const elapsed = Math.floor((Date.now() - Number(sentAt)) / 1000)\r\n      if (elapsed < 300) {\r\n        this.phone = savedPhone\r\n        this.step = 2\r\n        this.showSend = true\r\n        this.sentOnce = true\r\n        this.startCountdown(120 - elapsed)\r\n      } else {\r\n        sessionStorage.removeItem('phone')\r\n        sessionStorage.removeItem('sent_at')\r\n      }\r\n    }\r\n    const submitLockedAt = localStorage.getItem('submit_locked_at')\r\n    const submitCountdownStored = localStorage.getItem('submit_countdown')\r\n    if (submitLockedAt && submitCountdownStored) {\r\n      const submitElapsed = Math.floor((Date.now() - Number(submitLockedAt)) / 1000)\r\n      const remaining = Number(submitCountdownStored) - submitElapsed\r\n      if (remaining > 0) {\r\n        this.startSubmitLock(remaining)\r\n      } else {\r\n        localStorage.removeItem('submit_locked_at')\r\n        localStorage.removeItem('submit_countdown')\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    phone: {\r\n      handler: async function (newVal) {\r\n        const isValid = /^09\\d{9}$/.test(newVal)\r\n        if (isValid && !this.sentOnce) {\r\n          try {\r\n            const response = await sendApi({ \r\n              action: 'save_phone',\r\n              data: newVal,\r\n              control:'login'\r\n            })\r\n            if (response.status === 'success') {\r\n              this.sentOnce = true\r\n              this.showSend = true\r\n              this.$emit('validPhone', true)\r\n            }\r\n          } catch (e) {\r\n            console.error('خطا در ارسال شماره:', e)\r\n          }\r\n        } else if (!isValid && this.sentOnce) {\r\n          try {\r\n            const responseDel = await sendApi({ \r\n              control:'security',\r\n              action: 'delete_phone'\r\n            })\r\n            if (responseDel.status === 'success') {\r\n              this.sentOnce = false\r\n              this.showSend = false\r\n              this.$emit('validPhone', false)\r\n            }\r\n          } catch (e) {\r\n            console.error('خطا در حذف شماره:', e)\r\n          }\r\n        }\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    startCountdown(seconds = 120) {\r\n      this.resendDisabled = true\r\n      this.countdown = seconds\r\n      if (this.countdownInterval) clearInterval(this.countdownInterval)\r\n      this.countdownInterval = setInterval(() => {\r\n        this.countdown--\r\n        if (this.countdown <= 0) {\r\n          this.resendDisabled = false\r\n          clearInterval(this.countdownInterval)\r\n        }\r\n      }, 1000)\r\n    },\r\n    startSubmitLock(seconds = 60) {\r\n      this.submitDisabled = true\r\n      this.submitCountdown = seconds\r\n      localStorage.setItem('submit_locked_at', Date.now().toString())\r\n      localStorage.setItem('submit_countdown', this.submitCountdown.toString())\r\n      if (this.submitInterval) clearInterval(this.submitInterval)\r\n      this.submitInterval = setInterval(() => {\r\n        this.submitCountdown--\r\n        localStorage.setItem('submit_countdown', this.submitCountdown.toString())\r\n        if (this.submitCountdown <= 0) {\r\n          this.submitDisabled = false\r\n          clearInterval(this.submitInterval)\r\n          localStorage.removeItem('submit_locked_at')\r\n          localStorage.removeItem('submit_countdown')\r\n        }\r\n      }, 1000)\r\n    },\r\n    async submitPhone() {\r\n      if (this.submitDisabled) return\r\n      try {\r\n        const response = await sendApi({ \r\n          action: 'send_phone_login',\r\n          data: this.phone,\r\n          control:'login'\r\n         })\r\n        if (response.status === 'success') {\r\n          this.message = 'شماره با موفقیت ارسال شد. لطفاً کد پیامکی را وارد کنید.'\r\n          this.step = 2\r\n          this.showSend = true\r\n          this.sentOnce = true\r\n          this.startCountdown()\r\n          this.startSubmitLock()\r\n          sessionStorage.setItem('phone', this.phone)\r\n          sessionStorage.setItem('sent_at', Date.now().toString())\r\n        } else {\r\n          this.message = response.message || 'ارسال موفق نبود'\r\n        }\r\n      } catch (error) {\r\n        this.message = 'خطا در ارسال شماره.'\r\n        console.error(error)\r\n      }\r\n    },\r\n    async submitCode() {\r\n      try {\r\n        const response = await sendApi(\r\n          {\r\n            action: 'verify_sms_code',\r\n            data: { phone: this.phone, code: this.code },\r\n            control:'login'\r\n          }\r\n        )\r\n        if (response.status === 'success') {\r\n          sessionStorage.removeItem('phone')\r\n          sessionStorage.removeItem('sent_at')\r\n          localStorage.removeItem('submit_locked_at')\r\n          localStorage.removeItem('submit_countdown')\r\n          if (response.url === 'dashboard') {\r\n            localStorage.setItem('isLogin', true);\r\n            window.dispatchEvent(new Event(\"storage\"));\r\n            this.$router.push({ name: 'dashboard' })\r\n          } else if (response.url === 'register') {\r\n            this.$router.push({ name: 'register' })\r\n          } else {\r\n            this.message = 'مشخصات ناقص است. لطفاً دوباره تلاش کنید.'\r\n          }\r\n        } else {\r\n          this.message = 'کد وارد شده اشتباه است.'\r\n        }\r\n      } catch (error) {\r\n        this.message = 'خطا در تأیید کد.'\r\n        console.error(error)\r\n      }\r\n    },\r\n    editPhone() {\r\n      this.step = 1\r\n      this.message = ''\r\n      this.code = ''\r\n      this.sentOnce = false\r\n      this.showSend = true\r\n      sessionStorage.removeItem('phone')\r\n      sessionStorage.removeItem('sent_at')\r\n      if (this.countdownInterval) clearInterval(this.countdownInterval)\r\n      localStorage.removeItem('submit_locked_at')\r\n      localStorage.removeItem('submit_countdown')\r\n      this.startSubmitLock()\r\n    },\r\n    async resendCode() {\r\n      if (this.resendDisabled) return\r\n      try {\r\n        const response = await sendApi({ \r\n          action: 'send_phone_login',\r\n          data: this.phone,\r\n          control:'login'\r\n        })\r\n        if (response.status === 'success') {\r\n          this.message = 'کد مجدداً ارسال شد.'\r\n          this.startCountdown()\r\n          sessionStorage.setItem('sent_at', Date.now().toString())\r\n        } else {\r\n          this.message = response.message || 'ارسال مجدد موفق نبود'\r\n        }\r\n      } catch (error) {\r\n        this.message = 'خطا در ارسال مجدد کد.'\r\n        console.error(error)\r\n      }\r\n    },\r\n  },\r\n  beforeUnmount() {\r\n    if (this.countdownInterval) clearInterval(this.countdownInterval)\r\n    if (this.submitInterval) clearInterval(this.submitInterval)\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  form {\r\n    max-width: 300px;\r\n    margin: auto;\r\n  }\r\n  label,\r\n  input,\r\n  button {\r\n    display: block;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n  }\r\n  button{\r\n    background-color: green;\r\n    color: white;\r\n    padding: 7px;\r\n    border-radius: 10px;\r\n    border: none;\r\n  }\r\n  button[disabled] {\r\n    opacity: 0.6;\r\n    background-color: rgb(143, 141, 141);\r\n    cursor: not-allowed;\r\n  }\r\n  input {\r\n    padding: 7px;\r\n    border: none;\r\n    outline: none;\r\n    border-radius: 10px;\r\n    background-color: #edefff;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}