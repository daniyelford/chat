{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { defineStore } from 'pinia';\nimport { ref } from 'vue';\nimport moment from 'jalali-moment';\nimport { sendApi } from '@/utils/api';\nexport const useCalendarEventsStore = defineStore('calendarEvents', () => {\n  const events = ref([]);\n  const vacations = ref([]);\n  const getRandomColor = () => {\n    const colors = ['#29B6F6', '#FF7043', '#66BB6A', '#AB47BC', '#FFA726', '#26C6DA', '#EC407A'];\n    return colors[Math.floor(Math.random() * colors.length)];\n  };\n  const loadEvents = async () => {\n    try {\n      const res = await sendApi({\n        control: 'news',\n        action: 'get_news_for_month'\n      });\n      if (res.status === 'success') {\n        events.value = (res.data || []).map(item => ({\n          id: item.news?.id || 0,\n          title: item.news?.description?.slice(0, 20) || 'بدون عنوان',\n          startDateTime: moment(item.start),\n          endDateTime: item.end && item.end.trim?.() !== '' ? moment(item.end) : moment(),\n          color: getRandomColor(),\n          raw: item\n        }));\n      }\n    } catch (e) {\n      console.error('Error loading events:', e);\n    }\n    events.value = [{\n      startDateTime: moment(\"2023-03-06T13:37:41.020+00:00\"),\n      endDateTime: moment(\"2023-03-06T20:49:41.020+00:00\"),\n      title: \"رویداد شماره ۱\",\n      color: \"#29B6F6\"\n    }];\n  };\n  return {\n    events,\n    vacations,\n    loadEvents\n  };\n});","map":{"version":3,"names":["defineStore","ref","moment","sendApi","useCalendarEventsStore","events","vacations","getRandomColor","colors","Math","floor","random","length","loadEvents","res","control","action","status","value","data","map","item","id","news","title","description","slice","startDateTime","start","endDateTime","end","trim","color","raw","e","console","error"],"sources":["D:/GitHub/ci3-vue3/vue3/src/stores/calendarEvents.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { ref } from 'vue'\r\nimport moment from 'jalali-moment'\r\nimport { sendApi } from '@/utils/api'\r\nexport const useCalendarEventsStore = defineStore('calendarEvents', () => {\r\n    const events = ref([])\r\n    const vacations = ref([])\r\n    const getRandomColor = () => {\r\n        const colors = ['#29B6F6', '#FF7043', '#66BB6A', '#AB47BC', '#FFA726', '#26C6DA', '#EC407A']\r\n        return colors[Math.floor(Math.random() * colors.length)]\r\n    }\r\n    const loadEvents = async () => {\r\n        try {\r\n            const res = await sendApi({ control: 'news', action: 'get_news_for_month' })\r\n            if (res.status === 'success') {\r\n                events.value = (res.data || []).map(item => ({\r\n                    id: item.news?.id || 0,\r\n                    title: item.news?.description?.slice(0, 20) || 'بدون عنوان',\r\n                    startDateTime: moment(item.start),\r\n                    endDateTime: item.end && item.end.trim?.() !== '' ? moment(item.end) : moment(),\r\n                    color: getRandomColor(),\r\n                    raw: item,\r\n                }))\r\n            }\r\n        } catch (e) {\r\n            console.error('Error loading events:', e)\r\n        }\r\n        events.value=[\r\n        {\r\n            startDateTime: moment(\"2023-03-06T13:37:41.020+00:00\"),\r\n            endDateTime: moment(\"2023-03-06T20:49:41.020+00:00\"),\r\n            title: \"رویداد شماره ۱\",\r\n            color: \"#29B6F6\",\r\n            }\r\n        ]\r\n    }\r\n    return {\r\n        events,\r\n        vacations,\r\n        loadEvents\r\n    }\r\n})"],"mappings":";;AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,GAAG,QAAQ,KAAK;AACzB,OAAOC,MAAM,MAAM,eAAe;AAClC,SAASC,OAAO,QAAQ,aAAa;AACrC,OAAO,MAAMC,sBAAsB,GAAGJ,WAAW,CAAC,gBAAgB,EAAE,MAAM;EACtE,MAAMK,MAAM,GAAGJ,GAAG,CAAC,EAAE,CAAC;EACtB,MAAMK,SAAS,GAAGL,GAAG,CAAC,EAAE,CAAC;EACzB,MAAMM,cAAc,GAAGA,CAAA,KAAM;IACzB,MAAMC,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IAC5F,OAAOA,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGH,MAAM,CAACI,MAAM,CAAC,CAAC;EAC5D,CAAC;EACD,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMX,OAAO,CAAC;QAAEY,OAAO,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAqB,CAAC,CAAC;MAC5E,IAAIF,GAAG,CAACG,MAAM,KAAK,SAAS,EAAE;QAC1BZ,MAAM,CAACa,KAAK,GAAG,CAACJ,GAAG,CAACK,IAAI,IAAI,EAAE,EAAEC,GAAG,CAACC,IAAI,KAAK;UACzCC,EAAE,EAAED,IAAI,CAACE,IAAI,EAAED,EAAE,IAAI,CAAC;UACtBE,KAAK,EAAEH,IAAI,CAACE,IAAI,EAAEE,WAAW,EAAEC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,YAAY;UAC3DC,aAAa,EAAEzB,MAAM,CAACmB,IAAI,CAACO,KAAK,CAAC;UACjCC,WAAW,EAAER,IAAI,CAACS,GAAG,IAAIT,IAAI,CAACS,GAAG,CAACC,IAAI,GAAG,CAAC,KAAK,EAAE,GAAG7B,MAAM,CAACmB,IAAI,CAACS,GAAG,CAAC,GAAG5B,MAAM,CAAC,CAAC;UAC/E8B,KAAK,EAAEzB,cAAc,CAAC,CAAC;UACvB0B,GAAG,EAAEZ;QACT,CAAC,CAAC,CAAC;MACP;IACJ,CAAC,CAAC,OAAOa,CAAC,EAAE;MACRC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,CAAC,CAAC;IAC7C;IACA7B,MAAM,CAACa,KAAK,GAAC,CACb;MACIS,aAAa,EAAEzB,MAAM,CAAC,+BAA+B,CAAC;MACtD2B,WAAW,EAAE3B,MAAM,CAAC,+BAA+B,CAAC;MACpDsB,KAAK,EAAE,gBAAgB;MACvBQ,KAAK,EAAE;IACP,CAAC,CACJ;EACL,CAAC;EACD,OAAO;IACH3B,MAAM;IACNC,SAAS;IACTO;EACJ,CAAC;AACL,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}