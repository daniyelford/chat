{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { ref as i, watch as b, onMounted as E, nextTick as r, createElementBlock as d, openBlock as p, createTextVNode as T, toDisplayString as h, Fragment as V, renderList as A, withDirectives as C, normalizeClass as D, vModelText as I } from \"vue\";\nconst j = {\n    class: \"otp-container\"\n  },\n  B = [\"onUpdate:modelValue\", \"onInput\", \"onKeydown\"],\n  M = {\n    __name: \"OtpInput\",\n    props: {\n      modelValue: {\n        type: String,\n        default: \"\"\n      },\n      length: {\n        type: Number,\n        default: 6\n      }\n    },\n    emits: [\"update:modelValue\"],\n    setup(f, {\n      emit: v\n    }) {\n      const c = i(\"\"),\n        u = i(\"\"),\n        s = f,\n        y = v,\n        o = i(Array.from({\n          length: s.length\n        }, (n, e) => s.modelValue[e] || \"\")),\n        x = n => {\n          const e = {\n            \"۰\": \"0\",\n            \"۱\": \"1\",\n            \"۲\": \"2\",\n            \"۳\": \"3\",\n            \"۴\": \"4\",\n            \"۵\": \"5\",\n            \"۶\": \"6\",\n            \"۷\": \"7\",\n            \"۸\": \"8\",\n            \"۹\": \"9\"\n          };\n          return n.replace(/[۰-۹]/g, t => e[t]);\n        },\n        w = (n, e) => {\n          const t = x(n.target.value).replace(/[^0-9]/g, \"\").charAt(0) || \"\";\n          o.value[e] = t, t && e < o.value.length - 1 && r(() => n.target.parentElement.children[e + 1].focus());\n        },\n        _ = (n, e) => {\n          const t = n.currentTarget.parentElement.children;\n          if (n.key === \"Backspace\") {\n            !o.value[e] && e > 0 && r(() => t[e - 1].focus());\n            return;\n          }\n          n.key === \"ArrowLeft\" && e > 0 && r(() => t[e - 1].focus()), n.key === \"ArrowRight\" && e < o.value.length - 1 && r(() => t[e + 1].focus());\n        };\n      return b(o, () => {\n        y(\"update:modelValue\", o.value.join(\"\")), u.value = o.value.join(\"\");\n      }, {\n        deep: !0\n      }), E(() => {\n        const n = document.createElement(\"style\");\n        if (n.textContent = `\n    .otp-container { direction: ltr;display: flex; gap: 0.5rem; justify-content: space-evenly; }\n    .digit-box { width: 1.5rem; height: 2rem; font-size: 1rem; text-align: center; border: 2px solid black; border-radius: 6px; }\n    .bounce { animation: pulse 0.3s ease-in-out alternate; } \n      @keyframes pulse { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }\n    `, document.head.appendChild(n), \"OTPCredential\" in window) {\n          const e = new AbortController();\n          navigator.credentials.get({\n            otp: {\n              transport: [\"sms\"]\n            },\n            signal: e.signal\n          }).then(t => {\n            if (t?.code) {\n              u.value = t.code;\n              const l = t.code.split(\"\").slice(0, s.length);\n              o.value = l, r(() => {\n                const a = document.querySelectorAll(\".otp-container input\");\n                l.forEach((k, g) => {\n                  a[g] && (a[g].value = k);\n                });\n                const m = Math.min(l.length, s.length) - 1;\n                a[m] && a[m].focus();\n              });\n            } else c.value = \"OTP code not received!\";\n          }).catch(t => {\n            c.value = t.message;\n          });\n        }\n      }), (n, e) => (p(), d(\"div\", j, [T(h(c.value ?? \"\") + \" \" + h(u.value ?? \"\") + \" \", 1), (p(!0), d(V, null, A(o.value, (t, l) => C((p(), d(\"input\", {\n        key: l,\n        type: \"text\",\n        class: D([\"digit-box\", {\n          bounce: t !== \"\"\n        }]),\n        \"onUpdate:modelValue\": a => o.value[l] = a,\n        maxlength: \"1\",\n        onInput: a => w(a, l),\n        onKeydown: a => _(a, l)\n      }, null, 42, B)), [[I, o.value[l]]])), 128))]));\n    }\n  };\nexport { M as default };","map":{"version":3,"names":["ref","i","watch","b","onMounted","E","nextTick","r","createElementBlock","d","openBlock","p","createTextVNode","T","toDisplayString","h","Fragment","V","renderList","A","withDirectives","C","normalizeClass","D","vModelText","I","j","class","B","M","__name","props","modelValue","type","String","default","length","Number","emits","setup","f","emit","v","c","u","s","y","o","Array","from","n","e","x","replace","t","w","target","value","charAt","parentElement","children","focus","_","currentTarget","key","join","deep","document","createElement","textContent","head","appendChild","window","AbortController","navigator","credentials","get","otp","transport","signal","then","code","l","split","slice","a","querySelectorAll","forEach","k","g","m","Math","min","catch","message","bounce","maxlength","onInput","onKeydown"],"sources":["D:/GitHub/vue-otp-autofill/dist/index.es.js"],"sourcesContent":["import { ref as i, watch as b, onMounted as E, nextTick as r, createElementBlock as d, openBlock as p, createTextVNode as T, toDisplayString as h, Fragment as V, renderList as A, withDirectives as C, normalizeClass as D, vModelText as I } from \"vue\";\nconst j = { class: \"otp-container\" }, B = [\"onUpdate:modelValue\", \"onInput\", \"onKeydown\"], M = {\n  __name: \"OtpInput\",\n  props: {\n    modelValue: { type: String, default: \"\" },\n    length: { type: Number, default: 6 }\n  },\n  emits: [\"update:modelValue\"],\n  setup(f, { emit: v }) {\n    const c = i(\"\"), u = i(\"\"), s = f, y = v, o = i(Array.from({ length: s.length }, (n, e) => s.modelValue[e] || \"\")), x = (n) => {\n      const e = { \"۰\": \"0\", \"۱\": \"1\", \"۲\": \"2\", \"۳\": \"3\", \"۴\": \"4\", \"۵\": \"5\", \"۶\": \"6\", \"۷\": \"7\", \"۸\": \"8\", \"۹\": \"9\" };\n      return n.replace(/[۰-۹]/g, (t) => e[t]);\n    }, w = (n, e) => {\n      const t = x(n.target.value).replace(/[^0-9]/g, \"\").charAt(0) || \"\";\n      o.value[e] = t, t && e < o.value.length - 1 && r(() => n.target.parentElement.children[e + 1].focus());\n    }, _ = (n, e) => {\n      const t = n.currentTarget.parentElement.children;\n      if (n.key === \"Backspace\") {\n        !o.value[e] && e > 0 && r(() => t[e - 1].focus());\n        return;\n      }\n      n.key === \"ArrowLeft\" && e > 0 && r(() => t[e - 1].focus()), n.key === \"ArrowRight\" && e < o.value.length - 1 && r(() => t[e + 1].focus());\n    };\n    return b(o, () => {\n      y(\"update:modelValue\", o.value.join(\"\")), u.value = o.value.join(\"\");\n    }, { deep: !0 }), E(() => {\n      const n = document.createElement(\"style\");\n      if (n.textContent = `\n    .otp-container { direction: ltr;display: flex; gap: 0.5rem; justify-content: space-evenly; }\n    .digit-box { width: 1.5rem; height: 2rem; font-size: 1rem; text-align: center; border: 2px solid black; border-radius: 6px; }\n    .bounce { animation: pulse 0.3s ease-in-out alternate; } \n      @keyframes pulse { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }\n    `, document.head.appendChild(n), \"OTPCredential\" in window) {\n        const e = new AbortController();\n        navigator.credentials.get({\n          otp: { transport: [\"sms\"] },\n          signal: e.signal\n        }).then((t) => {\n          if (t?.code) {\n            u.value = t.code;\n            const l = t.code.split(\"\").slice(0, s.length);\n            o.value = l, r(() => {\n              const a = document.querySelectorAll(\".otp-container input\");\n              l.forEach((k, g) => {\n                a[g] && (a[g].value = k);\n              });\n              const m = Math.min(l.length, s.length) - 1;\n              a[m] && a[m].focus();\n            });\n          } else\n            c.value = \"OTP code not received!\";\n        }).catch((t) => {\n          c.value = t.message;\n        });\n      }\n    }), (n, e) => (p(), d(\"div\", j, [\n      T(h(c.value ?? \"\") + \" \" + h(u.value ?? \"\") + \" \", 1),\n      (p(!0), d(V, null, A(o.value, (t, l) => C((p(), d(\"input\", {\n        key: l,\n        type: \"text\",\n        class: D([\"digit-box\", { bounce: t !== \"\" }]),\n        \"onUpdate:modelValue\": (a) => o.value[l] = a,\n        maxlength: \"1\",\n        onInput: (a) => w(a, l),\n        onKeydown: (a) => _(a, l)\n      }, null, 42, B)), [\n        [I, o.value[l]]\n      ])), 128))\n    ]));\n  }\n};\nexport {\n  M as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}