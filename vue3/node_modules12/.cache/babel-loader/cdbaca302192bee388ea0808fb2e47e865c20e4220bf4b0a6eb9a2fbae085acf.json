{"ast":null,"code":"import { defineStore } from \"pinia\";\nimport { sendApi } from \"@/utils/api\";\nexport const useSecurityStore = defineStore('security', {\n  state: () => ({\n    isAuthenticated: false,\n    hasMobile: false,\n    loading: false\n  }),\n  actions: {\n    async checkAuth() {\n      this.loading = true;\n      try {\n        const res = await sendApi({\n          action: \"check_auth\",\n          control: \"security\"\n        });\n        this.isAuthenticated = res.status === \"success\";\n        return this.isAuthenticated;\n      } finally {\n        this.loading = false;\n      }\n    },\n    async checkHasMobile() {\n      this.loading = true;\n      try {\n        const res = await sendApi({\n          action: \"check_has_mobile\",\n          control: \"security\"\n        });\n        this.hasMobile = res.status === \"success\";\n        return this.hasMobile;\n      } finally {\n        this.loading = false;\n      }\n    },\n    async checkOnlyAuth() {\n      const isAuth = await this.checkAuth();\n      return isAuth;\n    },\n    reset() {\n      this.isAuthenticated = false;\n      this.hasMobile = false;\n      this.loading = false;\n    }\n  }\n});","map":{"version":3,"names":["defineStore","sendApi","useSecurityStore","state","isAuthenticated","hasMobile","loading","actions","checkAuth","res","action","control","status","checkHasMobile","checkOnlyAuth","isAuth","reset"],"sources":["D:/GitHub/chat/vue3/src/stores/security.js"],"sourcesContent":["import { defineStore } from \"pinia\";\r\nimport { sendApi } from \"@/utils/api\";\r\nexport const useSecurityStore = defineStore('security', {\r\n  state: () => ({\r\n    isAuthenticated: false,\r\n    hasMobile: false,\r\n    loading: false,\r\n  }),\r\n  actions: {\r\n    async checkAuth() {\r\n      this.loading = true;\r\n      try {\r\n        const res = await sendApi({\r\n          action: \"check_auth\",\r\n          control: \"security\",\r\n        });\r\n        this.isAuthenticated = res.status === \"success\";\r\n        return this.isAuthenticated;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async checkHasMobile() {\r\n      this.loading = true;\r\n      try {\r\n        const res = await sendApi({\r\n          action: \"check_has_mobile\",\r\n          control: \"security\",\r\n        });\r\n        this.hasMobile = res.status === \"success\";\r\n        return this.hasMobile;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async checkOnlyAuth() {\r\n      const isAuth = await this.checkAuth();\r\n      return isAuth;\r\n    },\r\n    reset() {\r\n      this.isAuthenticated = false;\r\n      this.hasMobile = false;\r\n      this.loading = false;\r\n    },\r\n  },\r\n});"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,OAAO,QAAQ,aAAa;AACrC,OAAO,MAAMC,gBAAgB,GAAGF,WAAW,CAAC,UAAU,EAAE;EACtDG,KAAK,EAAEA,CAAA,MAAO;IACZC,eAAe,EAAE,KAAK;IACtBC,SAAS,EAAE,KAAK;IAChBC,OAAO,EAAE;EACX,CAAC,CAAC;EACFC,OAAO,EAAE;IACP,MAAMC,SAASA,CAAA,EAAG;MAChB,IAAI,CAACF,OAAO,GAAG,IAAI;MACnB,IAAI;QACF,MAAMG,GAAG,GAAG,MAAMR,OAAO,CAAC;UACxBS,MAAM,EAAE,YAAY;UACpBC,OAAO,EAAE;QACX,CAAC,CAAC;QACF,IAAI,CAACP,eAAe,GAAGK,GAAG,CAACG,MAAM,KAAK,SAAS;QAC/C,OAAO,IAAI,CAACR,eAAe;MAC7B,CAAC,SAAS;QACR,IAAI,CAACE,OAAO,GAAG,KAAK;MACtB;IACF,CAAC;IACD,MAAMO,cAAcA,CAAA,EAAG;MACrB,IAAI,CAACP,OAAO,GAAG,IAAI;MACnB,IAAI;QACF,MAAMG,GAAG,GAAG,MAAMR,OAAO,CAAC;UACxBS,MAAM,EAAE,kBAAkB;UAC1BC,OAAO,EAAE;QACX,CAAC,CAAC;QACF,IAAI,CAACN,SAAS,GAAGI,GAAG,CAACG,MAAM,KAAK,SAAS;QACzC,OAAO,IAAI,CAACP,SAAS;MACvB,CAAC,SAAS;QACR,IAAI,CAACC,OAAO,GAAG,KAAK;MACtB;IACF,CAAC;IACD,MAAMQ,aAAaA,CAAA,EAAG;MACpB,MAAMC,MAAM,GAAG,MAAM,IAAI,CAACP,SAAS,CAAC,CAAC;MACrC,OAAOO,MAAM;IACf,CAAC;IACDC,KAAKA,CAAA,EAAG;MACN,IAAI,CAACZ,eAAe,GAAG,KAAK;MAC5B,IAAI,CAACC,SAAS,GAAG,KAAK;MACtB,IAAI,CAACC,OAAO,GAAG,KAAK;IACtB;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}