{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createBlock as _createBlock, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nimport { ref } from 'vue';\nimport PhoneLogin from '@/components/home/PhoneLogin.vue';\nimport FingerPrintLogin from '@/components/home/FingerPrintLogin.vue';\nimport { sendApi } from '@/utils/api';\nimport { BASE_URL } from '@/config';\nexport default {\n  __name: 'LoginView',\n  setup(__props) {\n    const cityIcon = BASE_URL + '/assets/images/city.png';\n    const carIcon = BASE_URL + '/assets/images/car.png';\n    const logo = BASE_URL + '/assets/images/logo.png';\n    const showFingerPrint = ref(false);\n    async function handleValidPhone(isValid) {\n      if (isValid) {\n        try {\n          const response = await sendApi({\n            action: 'check_mobile_has_finger_print',\n            control: 'login'\n          });\n          if (response && response.status === 'success') {\n            showFingerPrint.value = true;\n          } else {\n            showFingerPrint.value = false;\n          }\n        } catch (error) {\n          console.error('خطا در ارتباط با سرور:', error);\n          showFingerPrint.value = false;\n        }\n      } else {\n        showFingerPrint.value = false;\n      }\n    }\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"svg\", {\n        viewBox: \"0 0 800 400\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, [_createElementVNode(\"image\", {\n        href: cityIcon,\n        x: \"0\",\n        y: \"0\",\n        width: \"800\",\n        height: \"400\"\n      }), _createElementVNode(\"g\", null, [_createElementVNode(\"image\", {\n        href: carIcon,\n        width: \"300\",\n        height: \"150\"\n      }, _cache[0] || (_cache[0] = [_createElementVNode(\"animateTransform\", {\n        attributeName: \"transform\",\n        type: \"translate\",\n        from: \"-250 280\",\n        to: \"900 280\",\n        dur: \"2s\",\n        repeatCount: \"indefinite\"\n      }, null, -1)]))])]), _createElementVNode(\"div\", null, [_cache[1] || (_cache[1] = _createStaticVNode(\"<div class=\\\"sms-animation\\\" data-v-05985749><svg viewBox=\\\"0 0 200 200\\\" width=\\\"200\\\" height=\\\"200\\\" data-v-05985749><g id=\\\"phone\\\" x=\\\"60\\\" y=\\\"50\\\" width=\\\"80\\\" height=\\\"120\\\" rx=\\\"10\\\" fill=\\\"none\\\" fill-rule=\\\"nonzero\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" stroke-linecap=\\\"butt\\\" stroke-linejoin=\\\"miter\\\" stroke-miterlimit=\\\"10\\\" stroke-dasharray=\\\"\\\" stroke-dashoffset=\\\"0\\\" font-family=\\\"none\\\" font-weight=\\\"none\\\" font-size=\\\"none\\\" text-anchor=\\\"none\\\" style=\\\"mix-blend-mode:normal;\\\" data-v-05985749><g transform=\\\"scale(6.4,6.4)\\\" data-v-05985749><path d=\\\"M12.134,37.5c-1.452,0 -2.634,-1.182 -2.634,-2.634v-29.732c0,-1.452 1.182,-2.634 2.634,-2.634h15.732c1.452,0 2.634,1.182 2.634,2.634v29.732c0,1.452 -1.182,2.634 -2.634,2.634z\\\" fill=\\\"#9cafc4\\\" stroke=\\\"none\\\" data-v-05985749></path><path d=\\\"M27.866,3c1.177,0 2.134,0.957 2.134,2.134v29.732c0,1.177 -0.957,2.134 -2.134,2.134h-15.732c-1.177,0 -2.134,-0.957 -2.134,-2.134v-29.732c0,-1.177 0.957,-2.134 2.134,-2.134h15.732M27.866,2h-15.732c-1.731,0 -3.134,1.403 -3.134,3.134v29.732c0,1.731 1.403,3.134 3.134,3.134h15.732c1.731,0 3.134,-1.403 3.134,-3.134v-29.732c0,-1.731 -1.403,-3.134 -3.134,-3.134z\\\" fill=\\\"#535f6c\\\" stroke=\\\"none\\\" data-v-05985749></path><path d=\\\"M9.5,6.5h21v27h-21z\\\" fill=\\\"#cdd6db\\\" stroke=\\\"none\\\" data-v-05985749></path><path d=\\\"M30,7v26h-20v-26h20M31,6h-22v28h22v-28zM20,4c-0.27614,0 -0.5,0.22386 -0.5,0.5c0,0.27614 0.22386,0.5 0.5,0.5c0.27614,0 0.5,-0.22386 0.5,-0.5c0,-0.27614 -0.22386,-0.5 -0.5,-0.5z\\\" fill=\\\"#535f6c\\\" stroke=\\\"none\\\" data-v-05985749></path><path d=\\\"M18,35.5h4\\\" fill=\\\"none\\\" stroke=\\\"#535f6c\\\" data-v-05985749></path><path d=\\\"M20,12.5c-4.14214,0 -7.5,3.35786 -7.5,7.5c0,4.14214 3.35786,7.5 7.5,7.5c4.14214,0 7.5,-3.35786 7.5,-7.5c0,-4.14214 -3.35786,-7.5 -7.5,-7.5z\\\" fill=\\\"none\\\" stroke=\\\"#d8e0e9\\\" data-v-05985749></path><path d=\\\"M20,15.5c-2.48528,0 -4.5,2.01472 -4.5,4.5c0,2.48528 2.01472,4.5 4.5,4.5c2.48528,0 4.5,-2.01472 4.5,-4.5c0,-2.48528 -2.01472,-4.5 -4.5,-4.5z\\\" fill=\\\"none\\\" stroke=\\\"#f1fcfb\\\" data-v-05985749></path><g stroke=\\\"none\\\" data-v-05985749><path d=\\\"M20,18.5c-0.82843,0 -1.5,0.67157 -1.5,1.5c0,0.82843 0.67157,1.5 1.5,1.5c0.82843,0 1.5,-0.67157 1.5,-1.5c0,-0.82843 -0.67157,-1.5 -1.5,-1.5z\\\" fill=\\\"#d8e0e9\\\" data-v-05985749></path><path d=\\\"M20,19c0.551,0 1,0.449 1,1c0,0.551 -0.449,1 -1,1c-0.551,0 -1,-0.449 -1,-1c0,-0.551 0.449,-1 1,-1M20,18c-1.105,0 -2,0.895 -2,2c0,1.105 0.895,2 2,2c1.105,0 2,-0.895 2,-2c0,-1.105 -0.895,-2 -2,-2z\\\" fill=\\\"#f1fcfb\\\" data-v-05985749></path></g></g></g><g id=\\\"envelope\\\" data-v-05985749><rect x=\\\"0\\\" width=\\\"50\\\" height=\\\"30\\\" fill=\\\"#f0f0f0\\\" data-v-05985749></rect><polygon points=\\\"0,0 25,20 50,0\\\" fill=\\\"#ccc\\\" data-v-05985749></polygon></g></svg></div>\", 1)), _createElementVNode(\"img\", {\n        alt: \"logo\",\n        src: logo,\n        style: {\n          \"display\": \"none\"\n        }\n      }), _createVNode(PhoneLogin, {\n        onValidPhone: handleValidPhone\n      }), showFingerPrint.value ? (_openBlock(), _createElementBlock(\"br\", _hoisted_2)) : _createCommentVNode(\"\", true), showFingerPrint.value ? (_openBlock(), _createBlock(FingerPrintLogin, {\n        key: 1\n      })) : _createCommentVNode(\"\", true)])]);\n    };\n  }\n};","map":{"version":3,"names":["ref","PhoneLogin","FingerPrintLogin","sendApi","BASE_URL","cityIcon","carIcon","logo","showFingerPrint","handleValidPhone","isValid","response","action","control","status","value","error","console"],"sources":["D:/GitHub/chat/vue3/src/views/home/LoginView.vue"],"sourcesContent":["<script setup>\r\n  import { ref } from 'vue'\r\n  import PhoneLogin from '@/components/home/PhoneLogin.vue'\r\n  import FingerPrintLogin from '@/components/home/FingerPrintLogin.vue'\r\n  import { sendApi } from '@/utils/api'\r\n  import { BASE_URL } from '@/config';\r\n  const cityIcon=BASE_URL+'/assets/images/city.png'\r\n  const carIcon=BASE_URL+'/assets/images/car.png'\r\n  const logo=BASE_URL+'/assets/images/logo.png'\r\n  const showFingerPrint = ref(false)\r\n  async function handleValidPhone(isValid) {\r\n    if (isValid) {\r\n      try {\r\n        const response = await sendApi({ \r\n          action:'check_mobile_has_finger_print',\r\n          control:'login' \r\n        })\r\n        if (response && response.status === 'success') {\r\n          showFingerPrint.value = true\r\n        } else {\r\n          showFingerPrint.value = false\r\n        }\r\n      } catch (error) {\r\n        console.error('خطا در ارتباط با سرور:', error)\r\n        showFingerPrint.value = false\r\n      }\r\n    } else {\r\n      showFingerPrint.value = false\r\n    }\r\n  }\r\n</script>\r\n<template>\r\n    <section class=\"home\">\r\n        <svg viewBox=\"0 0 800 400\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <image :href=\"cityIcon\" x=\"0\" y=\"0\" width=\"800\" height=\"400\" />\r\n            <g>\r\n                <image :href=\"carIcon\" width=\"300\" height=\"150\">\r\n                <animateTransform\r\n                    attributeName=\"transform\"\r\n                    type=\"translate\"\r\n                    from=\"-250 280\"\r\n                    to=\"900 280\"\r\n                    dur=\"2s\"\r\n                    repeatCount=\"indefinite\" />\r\n                </image>\r\n            </g>\r\n        </svg>\r\n      <div>\r\n        \r\n<div class=\"sms-animation\">\r\n  <svg viewBox=\"0 0 200 200\" width=\"200\" height=\"200\">\r\n    <!-- موبایل -->\r\n      <g id=\"phone\" x=\"60\" y=\"50\" width=\"80\" height=\"120\" rx=\"10\" fill=\"none\" fill-rule=\"nonzero\" stroke=\"none\" stroke-width=\"1\" stroke-linecap=\"butt\" stroke-linejoin=\"miter\" stroke-miterlimit=\"10\" stroke-dasharray=\"\" stroke-dashoffset=\"0\" font-family=\"none\" font-weight=\"none\" font-size=\"none\" text-anchor=\"none\" style=\"mix-blend-mode: normal\"><g transform=\"scale(6.4,6.4)\"><path d=\"M12.134,37.5c-1.452,0 -2.634,-1.182 -2.634,-2.634v-29.732c0,-1.452 1.182,-2.634 2.634,-2.634h15.732c1.452,0 2.634,1.182 2.634,2.634v29.732c0,1.452 -1.182,2.634 -2.634,2.634z\" fill=\"#9cafc4\" stroke=\"none\"></path><path d=\"M27.866,3c1.177,0 2.134,0.957 2.134,2.134v29.732c0,1.177 -0.957,2.134 -2.134,2.134h-15.732c-1.177,0 -2.134,-0.957 -2.134,-2.134v-29.732c0,-1.177 0.957,-2.134 2.134,-2.134h15.732M27.866,2h-15.732c-1.731,0 -3.134,1.403 -3.134,3.134v29.732c0,1.731 1.403,3.134 3.134,3.134h15.732c1.731,0 3.134,-1.403 3.134,-3.134v-29.732c0,-1.731 -1.403,-3.134 -3.134,-3.134z\" fill=\"#535f6c\" stroke=\"none\"></path><path d=\"M9.5,6.5h21v27h-21z\" fill=\"#cdd6db\" stroke=\"none\"></path><path d=\"M30,7v26h-20v-26h20M31,6h-22v28h22v-28zM20,4c-0.27614,0 -0.5,0.22386 -0.5,0.5c0,0.27614 0.22386,0.5 0.5,0.5c0.27614,0 0.5,-0.22386 0.5,-0.5c0,-0.27614 -0.22386,-0.5 -0.5,-0.5z\" fill=\"#535f6c\" stroke=\"none\"></path><path d=\"M18,35.5h4\" fill=\"none\" stroke=\"#535f6c\"></path><path d=\"M20,12.5c-4.14214,0 -7.5,3.35786 -7.5,7.5c0,4.14214 3.35786,7.5 7.5,7.5c4.14214,0 7.5,-3.35786 7.5,-7.5c0,-4.14214 -3.35786,-7.5 -7.5,-7.5z\" fill=\"none\" stroke=\"#d8e0e9\"></path><path d=\"M20,15.5c-2.48528,0 -4.5,2.01472 -4.5,4.5c0,2.48528 2.01472,4.5 4.5,4.5c2.48528,0 4.5,-2.01472 4.5,-4.5c0,-2.48528 -2.01472,-4.5 -4.5,-4.5z\" fill=\"none\" stroke=\"#f1fcfb\"></path><g stroke=\"none\"><path d=\"M20,18.5c-0.82843,0 -1.5,0.67157 -1.5,1.5c0,0.82843 0.67157,1.5 1.5,1.5c0.82843,0 1.5,-0.67157 1.5,-1.5c0,-0.82843 -0.67157,-1.5 -1.5,-1.5z\" fill=\"#d8e0e9\"></path><path d=\"M20,19c0.551,0 1,0.449 1,1c0,0.551 -0.449,1 -1,1c-0.551,0 -1,-0.449 -1,-1c0,-0.551 0.449,-1 1,-1M20,18c-1.105,0 -2,0.895 -2,2c0,1.105 0.895,2 2,2c1.105,0 2,-0.895 2,-2c0,-1.105 -0.895,-2 -2,-2z\" fill=\"#f1fcfb\"></path></g></g></g>\r\n    <!-- پیام -->\r\n    <g id=\"envelope\">\r\n      <rect x=\"0\" width=\"50\" height=\"30\" fill=\"#f0f0f0\" />\r\n      <polygon points=\"0,0 25,20 50,0\" fill=\"#ccc\" />\r\n    </g>\r\n  </svg>\r\n</div>\r\n\r\n\r\n        <img alt=\"logo\" :src=\"logo\" style=\"display: none;\"/>\r\n        <PhoneLogin @validPhone=\"handleValidPhone\" />\r\n        <br v-if=\"showFingerPrint\">\r\n        <FingerPrintLogin v-if=\"showFingerPrint\" />\r\n      </div>\r\n  </section>\r\n</template>\r\n<style scoped>\r\n.sms-animation {\r\n  width: 200px;\r\n  margin: 40px auto;\r\n  display: inline-block;\r\n  position: relative;\r\n  animation: shake 0.3s infinite;\r\n  animation-delay: 2s;\r\n  animation-play-state: paused;\r\n}\r\n\r\n/* شروع لرزش بعد از رسیدن پاکت */\r\n.sms-animation.start-shake {\r\n  animation-play-state: running;\r\n}\r\n\r\n/* لرزش گوشی */\r\n@keyframes shake {\r\n  0% { transform: translateX(0); }\r\n  25% { transform: translateX(-2px); }\r\n  50% { transform: translateX(2px); }\r\n  75% { transform: translateX(-2px); }\r\n  100% { transform: translateX(2px); }\r\n}\r\n\r\n/* انیمیشن حرکت پاکت از راست به چپ */\r\n#envelope {\r\n  transform: translateX(200px) translateY(60px); /* شروع از راست */\r\n  animation: fly 2s ease forwards;\r\n}\r\n\r\n@keyframes fly {\r\n  0% {\r\n    transform: translateX(200px) translateY(60px);\r\n  }\r\n  100% {\r\n    transform: translateX(80px) translateY(60px); /* مقصد جلوی گوشی */\r\n  }\r\n}\r\n\r\n  .home{\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    flex-wrap: nowrap;\r\n    direction: rtl;\r\n    justify-content: space-evenly;\r\n    align-items: center;\r\n    width: 100%;\r\n    gap: 20px;\r\n  }\r\n  div{\r\n    background: white;\r\n    border-radius: 10px;\r\n    text-align:center;\r\n    width:40%;\r\n    padding: 20px;\r\n    box-shadow: 0 0 10px grey;\r\n  }\r\n  img{\r\n    width:100%;\r\n  }\r\n  @media screen and (max-width:600px){\r\n    .home{\r\n      flex-direction: column;\r\n    }\r\n    div{\r\n      width:80%;\r\n    }\r\n  }\r\n</style>"],"mappings":";;;;;;;AACE,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,UAAU,MAAM,kCAAkC;AACzD,OAAOC,gBAAgB,MAAM,wCAAwC;AACrE,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,QAAQ,QAAQ,UAAU;;;;IACnC,MAAMC,QAAQ,GAACD,QAAQ,GAAC,yBAAyB;IACjD,MAAME,OAAO,GAACF,QAAQ,GAAC,wBAAwB;IAC/C,MAAMG,IAAI,GAACH,QAAQ,GAAC,yBAAyB;IAC7C,MAAMI,eAAe,GAAGR,GAAG,CAAC,KAAK,CAAC;IAClC,eAAeS,gBAAgBA,CAACC,OAAO,EAAE;MACvC,IAAIA,OAAO,EAAE;QACX,IAAI;UACF,MAAMC,QAAQ,GAAG,MAAMR,OAAO,CAAC;YAC7BS,MAAM,EAAC,+BAA+B;YACtCC,OAAO,EAAC;UACV,CAAC,CAAC;UACF,IAAIF,QAAQ,IAAIA,QAAQ,CAACG,MAAM,KAAK,SAAS,EAAE;YAC7CN,eAAe,CAACO,KAAK,GAAG,IAAI;UAC9B,CAAC,MAAM;YACLP,eAAe,CAACO,KAAK,GAAG,KAAK;UAC/B;QACF,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;UAC9CR,eAAe,CAACO,KAAK,GAAG,KAAK;QAC/B;MACF,CAAC,MAAM;QACLP,eAAe,CAACO,KAAK,GAAG,KAAK;MAC/B;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}