{"ast":null,"code":"import { createElementVNode as _createElementVNode, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"section\"\n};\nconst _hoisted_2 = {\n  class: \"text\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"section\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"section\"\n};\nimport { ref, watch } from 'vue';\nimport RadioGroup from '@/components/tooles/news/address/RadioGroup.vue';\nimport MapPicker from './address/MapPicker.vue';\nexport default {\n  __name: 'AddressSelector ',\n  props: {\n    loginCity: String,\n    modelValue: Object\n  },\n  emits: ['update'],\n  setup(__props, {\n    emit: __emit\n  }) {\n    const emit = __emit;\n    const props = __props;\n    const selectedMode = ref(props.modelValue?.type || 'city');\n    const manualAddress = ref(props.modelValue?.value || '');\n    const location = ref(props.modelValue?.value || {\n      lat: '',\n      lng: ''\n    });\n    const addressModes = [{\n      id: 'city',\n      label: 'شهر فعلی'\n    }, {\n      id: 'location',\n      label: 'انتخاب از نقشه'\n    }, {\n      id: 'manual',\n      label: 'آدرس کامل'\n    }];\n    const handleMapSelect = ({\n      lat,\n      lng\n    }) => {\n      location.value = {\n        lat,\n        lng\n      };\n      emit('update', {\n        type: 'location',\n        value: location.value\n      });\n    };\n    watch([selectedMode, manualAddress, location], () => {\n      let value = null;\n      if (selectedMode.value === 'city') {\n        value = {\n          type: 'city',\n          value: props.loginCity\n        };\n      } else if (selectedMode.value === 'location') {\n        value = {\n          type: 'location',\n          value: location.value\n        };\n      } else if (selectedMode.value === 'manual') {\n        value = {\n          type: 'manual',\n          value: manualAddress.value\n        };\n      }\n      emit('update', value);\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n        class: \"address-label\"\n      }, \"نوع آدرس:\", -1)), _createVNode(RadioGroup, {\n        modelValue: selectedMode.value,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => selectedMode.value = $event),\n        options: addressModes,\n        name: \"address-mode\"\n      }, null, 8, [\"modelValue\"]), selectedMode.value === 'city' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"p\", _hoisted_2, [_cache[4] || (_cache[4] = _createTextVNode(\"آدرس شما از سمت سرور: \")), _createElementVNode(\"strong\", null, _toDisplayString(__props.loginCity), 1)])])) : _createCommentVNode(\"\", true), selectedMode.value === 'location' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n        class: \"text\"\n      }, \"موقعیت مکانی:\", -1)), _createVNode(MapPicker, {\n        onSelected: handleMapSelect\n      }), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => location.value.lat = $event),\n        type: \"text\",\n        placeholder: \"عرض جغرافیایی (lat)\",\n        class: \"input\"\n      }, null, 512), [[_vModelText, location.value.lat]]), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => location.value.lng = $event),\n        type: \"text\",\n        placeholder: \"طول جغرافیایی (lng)\",\n        class: \"input mt-2\"\n      }, null, 512), [[_vModelText, location.value.lng]])])) : _createCommentVNode(\"\", true), selectedMode.value === 'manual' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n        class: \"text\"\n      }, \"آدرس کامل:\", -1)), _withDirectives(_createElementVNode(\"textarea\", {\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => manualAddress.value = $event),\n        rows: \"3\",\n        class: \"textarea\",\n        placeholder: \"آدرس را وارد کنید...\"\n      }, null, 512), [[_vModelText, manualAddress.value]])])) : _createCommentVNode(\"\", true)]);\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","RadioGroup","MapPicker","emit","__emit","props","__props","selectedMode","modelValue","type","manualAddress","value","location","lat","lng","addressModes","id","label","handleMapSelect","loginCity"],"sources":["D:/GitHub/ci3-vue3/vue3/src/components/tooles/news/AddressSelector .vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <label class=\"address-label\">نوع آدرس:</label>\r\n    <RadioGroup\r\n      v-model=\"selectedMode\"\r\n      :options=\"addressModes\"\r\n      name=\"address-mode\"\r\n    />\r\n\r\n    <div class=\"section\" v-if=\"selectedMode === 'city'\">\r\n      <p class=\"text\">آدرس شما از سمت سرور: <strong>{{ loginCity }}</strong></p>\r\n    </div>\r\n\r\n    <div class=\"section\" v-if=\"selectedMode === 'location'\">\r\n      <label class=\"text\">موقعیت مکانی:</label>\r\n      <MapPicker @selected=\"handleMapSelect\" />\r\n      <input v-model=\"location.lat\" type=\"text\" placeholder=\"عرض جغرافیایی (lat)\" class=\"input\" />\r\n      <input v-model=\"location.lng\" type=\"text\" placeholder=\"طول جغرافیایی (lng)\" class=\"input mt-2\" />\r\n    </div>\r\n\r\n    <div class=\"section\" v-if=\"selectedMode === 'manual'\">\r\n      <label class=\"text\">آدرس کامل:</label>\r\n      <textarea v-model=\"manualAddress\" rows=\"3\" class=\"textarea\" placeholder=\"آدرس را وارد کنید...\"></textarea>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch, defineEmits, defineProps } from 'vue'\r\nimport RadioGroup from '@/components/tooles/news/address/RadioGroup.vue'\r\nimport MapPicker from './address/MapPicker.vue'\r\nconst emit = defineEmits(['update'])\r\nconst props = defineProps({\r\n  loginCity: String,\r\n  modelValue: Object,\r\n})\r\nconst selectedMode = ref(props.modelValue?.type || 'city')\r\nconst manualAddress = ref(props.modelValue?.value || '')\r\nconst location = ref(props.modelValue?.value || { lat: '', lng: '' })\r\nconst addressModes = [\r\n  { id: 'city', label: 'شهر فعلی' },\r\n  { id: 'location', label: 'انتخاب از نقشه' },\r\n  { id: 'manual', label: 'آدرس کامل' },\r\n]\r\nconst handleMapSelect = ({ lat, lng }) => {\r\n  location.value = { lat, lng }\r\n  emit('update', { type: 'location', value: location.value })\r\n}\r\nwatch([selectedMode, manualAddress, location], () => {\r\n  let value = null\r\n  if (selectedMode.value === 'city') {\r\n    value = { type: 'city', value: props.loginCity }\r\n  } else if (selectedMode.value === 'location') {\r\n    value = { type: 'location', value: location.value }\r\n  } else if (selectedMode.value === 'manual') {\r\n    value = { type: 'manual', value: manualAddress.value }\r\n  }\r\n  emit('update', value)\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n  .address-label {\r\n    font-weight: bold;\r\n    margin-bottom: 0.5rem;\r\n    display: block;\r\n  }\r\n  .section {\r\n    margin-top: 1rem;\r\n  }\r\n  .text {\r\n    font-size: 0.875rem;\r\n    margin-bottom: 0.25rem;\r\n    display: block;\r\n  }\r\n  .input {\r\n    border: 1px solid #ccc;\r\n    border-radius: 0.375rem;\r\n    padding: 0.5rem;\r\n    width: 100%;\r\n    margin-top: 0.25rem;\r\n  }\r\n  .textarea {\r\n    border: 1px solid #ccc;\r\n    border-radius: 0.375rem;\r\n    padding: 0.5rem;\r\n    width: 100%;\r\n    resize: vertical;\r\n  }\r\n</style>"],"mappings":";;;;;;;;;;;;;;;;AA4BA,SAASA,GAAG,EAAEC,KAA+B,QAAQ,KAAK;AAC1D,OAAOC,UAAU,MAAM,iDAAiD;AACxE,OAAOC,SAAS,MAAM,yBAAyB;;;;;;;;;;;IAC/C,MAAMC,IAAI,GAAGC,MAAuB;IACpC,MAAMC,KAAK,GAAGC,OAGZ;IACF,MAAMC,YAAY,GAAGR,GAAG,CAACM,KAAK,CAACG,UAAU,EAAEC,IAAI,IAAI,MAAM,CAAC;IAC1D,MAAMC,aAAa,GAAGX,GAAG,CAACM,KAAK,CAACG,UAAU,EAAEG,KAAK,IAAI,EAAE,CAAC;IACxD,MAAMC,QAAQ,GAAGb,GAAG,CAACM,KAAK,CAACG,UAAU,EAAEG,KAAK,IAAI;MAAEE,GAAG,EAAE,EAAE;MAAEC,GAAG,EAAE;IAAG,CAAC,CAAC;IACrE,MAAMC,YAAY,GAAG,CACnB;MAAEC,EAAE,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAW,CAAC,EACjC;MAAED,EAAE,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAiB,CAAC,EAC3C;MAAED,EAAE,EAAE,QAAQ;MAAEC,KAAK,EAAE;IAAY,CAAC,CACrC;IACD,MAAMC,eAAe,GAAGA,CAAC;MAAEL,GAAG;MAAEC;IAAI,CAAC,KAAK;MACxCF,QAAQ,CAACD,KAAK,GAAG;QAAEE,GAAG;QAAEC;MAAI,CAAC;MAC7BX,IAAI,CAAC,QAAQ,EAAE;QAAEM,IAAI,EAAE,UAAU;QAAEE,KAAK,EAAEC,QAAQ,CAACD;MAAM,CAAC,CAAC;IAC7D,CAAC;IACDX,KAAK,CAAC,CAACO,YAAY,EAAEG,aAAa,EAAEE,QAAQ,CAAC,EAAE,MAAM;MACnD,IAAID,KAAK,GAAG,IAAI;MAChB,IAAIJ,YAAY,CAACI,KAAK,KAAK,MAAM,EAAE;QACjCA,KAAK,GAAG;UAAEF,IAAI,EAAE,MAAM;UAAEE,KAAK,EAAEN,KAAK,CAACc;QAAU,CAAC;MAClD,CAAC,MAAM,IAAIZ,YAAY,CAACI,KAAK,KAAK,UAAU,EAAE;QAC5CA,KAAK,GAAG;UAAEF,IAAI,EAAE,UAAU;UAAEE,KAAK,EAAEC,QAAQ,CAACD;QAAM,CAAC;MACrD,CAAC,MAAM,IAAIJ,YAAY,CAACI,KAAK,KAAK,QAAQ,EAAE;QAC1CA,KAAK,GAAG;UAAEF,IAAI,EAAE,QAAQ;UAAEE,KAAK,EAAED,aAAa,CAACC;QAAM,CAAC;MACxD;MACAR,IAAI,CAAC,QAAQ,EAAEQ,KAAK,CAAC;IACvB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}