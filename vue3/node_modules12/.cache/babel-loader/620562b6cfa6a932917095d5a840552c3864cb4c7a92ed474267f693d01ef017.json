{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"modal-overlay\"\n};\nconst _hoisted_2 = {\n  class: \"modal-content\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"modal-item user\"\n};\nconst _hoisted_4 = {\n  class: \"user-info\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  key: 1,\n  class: \"media-img\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"#000000\",\n  viewBox: \"0 0 24 24\"\n};\nconst _hoisted_7 = [\"href\"];\nconst _hoisted_8 = {\n  class: \"modal-item\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"modal-item\"\n};\nconst _hoisted_10 = {\n  key: 2,\n  class: \"modal-item\"\n};\nconst _hoisted_11 = {\n  key: 3,\n  class: \"modal-item\"\n};\nimport { computed } from 'vue';\nimport MediaSlider from '@/components/tooles/media/MediaSlider.vue';\nexport default {\n  __name: 'ReportListModal',\n  props: {\n    show: Boolean,\n    event: Object\n  },\n  emits: ['close'],\n  setup(__props) {\n    const props = __props;\n    const getStatus = status => {\n      switch (status) {\n        case 'seen':\n          return 'در حال پیگیری';\n        case 'checking':\n          return 'در حال بررسی';\n        case 'done':\n          return 'انجام شده';\n        default:\n          return 'نامشخص';\n      }\n    };\n    const report = computed(() => props.event?.raw?.report || {});\n    const news = computed(() => props.event?.raw?.news || {});\n\n    // مقادیر جدا شده برای راحتی\n    const reporterName = computed(() => {\n      const r = report.value.reporter || {};\n      return [r.name, r.family].filter(Boolean).join(' ');\n    });\n    const reporterImage = computed(() => report.value.reporter?.user_image_url || null);\n    const reporterPhone = computed(() => report.value.reporter?.phone || null);\n    const reportDescription = computed(() => report.value.description);\n    const reportStatus = computed(() => report.value.status);\n    const reportMedia = computed(() => report.value.report_media || []);\n    const newsMedia = computed(() => news.value.news_media || []);\n    const newsCategory = computed(() => news.value.category || []);\n    const addressObj = computed(() => news.value.address || {});\n\n    // رشته نمایش آدرس (ترکیب چند فیلد)\n    const addressString = computed(() => {\n      if (!addressObj.value) return null;\n      const parts = [];\n      if (addressObj.value.address) parts.push(addressObj.value.address);\n      if (addressObj.value.city) parts.push(addressObj.value.city);\n      return parts.join(' - ');\n    });\n    const reportId = computed(() => report.value.id);\n    return (_ctx, _cache) => {\n      const _component_RouterLink = _resolveComponent(\"RouterLink\");\n      return __props.show ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('close')),\n        class: \"modal-close\"\n      }, \"×\"), reporterName.value || reporterImage.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [reporterImage.value ? (_openBlock(), _createElementBlock(\"img\", {\n        key: 0,\n        src: reporterImage.value,\n        alt: \"عکس گزارش‌دهنده\",\n        class: \"media-img\"\n      }, null, 8, _hoisted_5)) : (_openBlock(), _createElementBlock(\"svg\", _hoisted_6, _cache[1] || (_cache[1] = [_createElementVNode(\"path\", {\n        d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z\"\n      }, null, -1)]))), _createTextVNode(\" \" + _toDisplayString(reporterName.value || '---'), 1)]), _createElementVNode(\"div\", null, [reporterPhone.value ? (_openBlock(), _createElementBlock(\"a\", {\n        key: 0,\n        href: 'tel:' + reporterPhone.value\n      }, \" 📞 تماس با گزارش‌دهنده \", 8, _hoisted_7)) : _createCommentVNode(\"\", true)])])) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"p\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"strong\", null, \"توضیحات گزارش:\", -1)), _createTextVNode(\" \" + _toDisplayString(reportDescription.value || 'ندارد'), 1)]), _createElementVNode(\"p\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"strong\", null, \"آدرس:\", -1)), _createTextVNode(\" \" + _toDisplayString(addressString.value || 'ثبت نشده'), 1)]), _createElementVNode(\"p\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"strong\", null, \"وضعیت:\", -1)), _createTextVNode(\" \" + _toDisplayString(getStatus(reportStatus.value)), 1)])]), newsCategory.value.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_cache[5] || (_cache[5] = _createElementVNode(\"strong\", null, \"دسته‌بندی:\", -1)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(newsCategory.value, cat => {\n        return _openBlock(), _createElementBlock(\"span\", {\n          key: cat.id,\n          class: \"tag\"\n        }, _toDisplayString(cat.title), 1);\n      }), 128))])) : _createCommentVNode(\"\", true), newsMedia.value.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_cache[6] || (_cache[6] = _createElementVNode(\"strong\", null, \"رسانه‌های خبر:\", -1)), _createVNode(MediaSlider, {\n        medias: newsMedia.value\n      }, null, 8, [\"medias\"])])) : _createCommentVNode(\"\", true), reportMedia.value.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_cache[7] || (_cache[7] = _createElementVNode(\"strong\", null, \"رسانه‌های گزارش:\", -1)), _createVNode(MediaSlider, {\n        medias: reportMedia.value\n      }, null, 8, [\"medias\"])])) : _createCommentVNode(\"\", true), reportId.value ? (_openBlock(), _createBlock(_component_RouterLink, {\n        key: 4,\n        to: {\n          path: `/show-cartable/${reportId.value}`\n        },\n        class: \"done\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(__props.event?.me ? 'پیگیری' : 'بررسی'), 1)]),\n        _: 1\n      }, 8, [\"to\"])) : _createCommentVNode(\"\", true)])])) : _createCommentVNode(\"\", true);\n    };\n  }\n};","map":{"version":3,"names":["computed","MediaSlider","props","__props","getStatus","status","report","event","raw","news","reporterName","r","value","reporter","name","family","filter","Boolean","join","reporterImage","user_image_url","reporterPhone","phone","reportDescription","description","reportStatus","reportMedia","report_media","newsMedia","news_media","newsCategory","category","addressObj","address","addressString","parts","push","city","reportId","id"],"sources":["D:/GitHub/ci3-vue3/vue3/src/components/tooles/news/ReportListModal.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"show\" class=\"modal-overlay\">\r\n    <div class=\"modal-content\">\r\n      <button @click=\"$emit('close')\" class=\"modal-close\">×</button>\r\n\r\n      <!-- 👤 اطلاعات ثبت‌کننده گزارش -->\r\n      <div class=\"modal-item user\" v-if=\"reporterName || reporterImage\">\r\n        <div class=\"user-info\">\r\n          <img\r\n            v-if=\"reporterImage\"\r\n            :src=\"reporterImage\"\r\n            alt=\"عکس گزارش‌دهنده\"\r\n            class=\"media-img\"\r\n          />\r\n          <svg v-else class=\"media-img\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#000000\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z\"/>\r\n          </svg>\r\n          {{ reporterName || '---' }}\r\n        </div>\r\n        <div>\r\n          <a v-if=\"reporterPhone\" :href=\"'tel:' + reporterPhone\">\r\n            📞 تماس با گزارش‌دهنده\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 🧾 اطلاعات خبر مربوطه -->\r\n      <div class=\"modal-item\">\r\n        <p><strong>توضیحات گزارش:</strong> {{ reportDescription || 'ندارد' }}</p>\r\n        <p><strong>آدرس:</strong> {{ addressString || 'ثبت نشده' }}</p>\r\n        <p><strong>وضعیت:</strong> {{ getStatus(reportStatus) }}</p>\r\n      </div>\r\n\r\n      <!-- 🏷 دسته‌بندی‌ها -->\r\n      <div class=\"modal-item\" v-if=\"newsCategory.length\">\r\n        <strong>دسته‌بندی:</strong>\r\n        <span v-for=\"cat in newsCategory\" :key=\"cat.id\" class=\"tag\">{{ cat.title }}</span>\r\n      </div>\r\n\r\n      <!-- 🖼 رسانه‌های خبر -->\r\n      <div class=\"modal-item\" v-if=\"newsMedia.length\">\r\n        <strong>رسانه‌های خبر:</strong>\r\n        <MediaSlider :medias=\"newsMedia\" />\r\n      </div>\r\n\r\n      <!-- 📎 رسانه‌های گزارش -->\r\n      <div class=\"modal-item\" v-if=\"reportMedia.length\">\r\n        <strong>رسانه‌های گزارش:</strong>\r\n        <MediaSlider :medias=\"reportMedia\" />\r\n      </div>\r\n\r\n      <!-- 🔁 لینک بررسی یا پیگیری -->\r\n      <RouterLink v-if=\"reportId\" :to=\"{ path: `/show-cartable/${reportId}` }\" class=\"done\">\r\n        {{ event?.me ? 'پیگیری' : 'بررسی' }}\r\n      </RouterLink>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineEmits,defineProps,computed } from 'vue'\r\nimport MediaSlider from '@/components/tooles/media/MediaSlider.vue'\r\n\r\nconst props=defineProps({\r\n  show: Boolean,\r\n  event: Object\r\n})\r\ndefineEmits(['close'])\r\n\r\nconst getStatus = (status) => {\r\n  switch (status) {\r\n    case 'seen': return 'در حال پیگیری'\r\n    case 'checking': return 'در حال بررسی'\r\n    case 'done': return 'انجام شده'\r\n    default: return 'نامشخص'\r\n  }\r\n}\r\n\r\nconst report = computed(() => props.event?.raw?.report || {})\r\nconst news = computed(() => props.event?.raw?.news || {})\r\n\r\n// مقادیر جدا شده برای راحتی\r\nconst reporterName = computed(() => {\r\n  const r = report.value.reporter || {}\r\n  return [r.name, r.family].filter(Boolean).join(' ')\r\n})\r\n\r\nconst reporterImage = computed(() => report.value.reporter?.user_image_url || null)\r\nconst reporterPhone = computed(() => report.value.reporter?.phone || null)\r\n\r\nconst reportDescription = computed(() => report.value.description)\r\nconst reportStatus = computed(() => report.value.status)\r\nconst reportMedia = computed(() => report.value.report_media || [])\r\n\r\nconst newsMedia = computed(() => news.value.news_media || [])\r\nconst newsCategory = computed(() => news.value.category || [])\r\nconst addressObj = computed(() => news.value.address || {})\r\n\r\n// رشته نمایش آدرس (ترکیب چند فیلد)\r\nconst addressString = computed(() => {\r\n  if (!addressObj.value) return null\r\n  const parts = []\r\n  if (addressObj.value.address) parts.push(addressObj.value.address)\r\n  if (addressObj.value.city) parts.push(addressObj.value.city)\r\n  return parts.join(' - ')\r\n})\r\n\r\nconst reportId = computed(() => report.value.id)\r\n</script>\r\n\r\n<style scoped>\r\n/* ...همون استایل‌هایی که قبلا بود */\r\n.done {\r\n    width: 100%;\r\n    padding: 10px;\r\n    background: #7fffd4;\r\n    color: black;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    border-radius: 5px;\r\n    font-size: 15px;\r\n    font-weight: 700;\r\n    display: inline-block;\r\n    text-align: center;\r\n    box-sizing: border-box;\r\n}\r\n.user-info{\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    align-items: center;\r\n    gap: 10px;\r\n}\r\n.tooles{\r\n    width: 25px;\r\n    height: 25px;\r\n}\r\n.user{\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    flex-wrap: nowrap;\r\n}\r\n.modal-overlay {\r\n    position: fixed;\r\n    inset: 0;\r\n    z-index: 9999;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n.modal-content {\r\n    background-color: #fff;\r\n    border-radius: 1rem;\r\n    max-width: 600px;\r\n    width: 100%;\r\n    direction: rtl;\r\n    padding: 1.5rem;\r\n    position: relative;\r\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\r\n}\r\n.modal-title {\r\n    font-size: 1.25rem;\r\n    font-weight: bold;\r\n    margin-bottom: 1rem;\r\n}\r\n.modal-close {\r\n    position: absolute;\r\n    top: 0.75rem;\r\n    left: 0.75rem;\r\n    background: none;\r\n    border: none;\r\n    font-size: 1.5rem;\r\n    color: #666;\r\n    cursor: pointer;\r\n}\r\n.modal-close:hover {\r\n    color: #e53935;\r\n}\r\n.modal-item {\r\n    direction: rtl;\r\n    margin-bottom: 0.75rem;\r\n}\r\n.media-container {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 0.5rem;\r\n    margin-top: 0.5rem;\r\n}\r\n.media-img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50px;\r\n    object-fit: cover;\r\n    border: 1px solid #ddd;\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,SAAiCA,QAAQ,QAAQ,KAAK;AACtD,OAAOC,WAAW,MAAM,2CAA2C;;;;;;;;;IAEnE,MAAMC,KAAK,GAACC,OAGV;IAGF,MAAMC,SAAS,GAAIC,MAAM,IAAK;MAC5B,QAAQA,MAAM;QACZ,KAAK,MAAM;UAAE,OAAO,eAAe;QACnC,KAAK,UAAU;UAAE,OAAO,cAAc;QACtC,KAAK,MAAM;UAAE,OAAO,WAAW;QAC/B;UAAS,OAAO,QAAQ;MAC1B;IACF,CAAC;IAED,MAAMC,MAAM,GAAGN,QAAQ,CAAC,MAAME,KAAK,CAACK,KAAK,EAAEC,GAAG,EAAEF,MAAM,IAAI,CAAC,CAAC,CAAC;IAC7D,MAAMG,IAAI,GAAGT,QAAQ,CAAC,MAAME,KAAK,CAACK,KAAK,EAAEC,GAAG,EAAEC,IAAI,IAAI,CAAC,CAAC,CAAC;;IAEzD;IACA,MAAMC,YAAY,GAAGV,QAAQ,CAAC,MAAM;MAClC,MAAMW,CAAC,GAAGL,MAAM,CAACM,KAAK,CAACC,QAAQ,IAAI,CAAC,CAAC;MACrC,OAAO,CAACF,CAAC,CAACG,IAAI,EAAEH,CAAC,CAACI,MAAM,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;IACrD,CAAC,CAAC;IAEF,MAAMC,aAAa,GAAGnB,QAAQ,CAAC,MAAMM,MAAM,CAACM,KAAK,CAACC,QAAQ,EAAEO,cAAc,IAAI,IAAI,CAAC;IACnF,MAAMC,aAAa,GAAGrB,QAAQ,CAAC,MAAMM,MAAM,CAACM,KAAK,CAACC,QAAQ,EAAES,KAAK,IAAI,IAAI,CAAC;IAE1E,MAAMC,iBAAiB,GAAGvB,QAAQ,CAAC,MAAMM,MAAM,CAACM,KAAK,CAACY,WAAW,CAAC;IAClE,MAAMC,YAAY,GAAGzB,QAAQ,CAAC,MAAMM,MAAM,CAACM,KAAK,CAACP,MAAM,CAAC;IACxD,MAAMqB,WAAW,GAAG1B,QAAQ,CAAC,MAAMM,MAAM,CAACM,KAAK,CAACe,YAAY,IAAI,EAAE,CAAC;IAEnE,MAAMC,SAAS,GAAG5B,QAAQ,CAAC,MAAMS,IAAI,CAACG,KAAK,CAACiB,UAAU,IAAI,EAAE,CAAC;IAC7D,MAAMC,YAAY,GAAG9B,QAAQ,CAAC,MAAMS,IAAI,CAACG,KAAK,CAACmB,QAAQ,IAAI,EAAE,CAAC;IAC9D,MAAMC,UAAU,GAAGhC,QAAQ,CAAC,MAAMS,IAAI,CAACG,KAAK,CAACqB,OAAO,IAAI,CAAC,CAAC,CAAC;;IAE3D;IACA,MAAMC,aAAa,GAAGlC,QAAQ,CAAC,MAAM;MACnC,IAAI,CAACgC,UAAU,CAACpB,KAAK,EAAE,OAAO,IAAI;MAClC,MAAMuB,KAAK,GAAG,EAAE;MAChB,IAAIH,UAAU,CAACpB,KAAK,CAACqB,OAAO,EAAEE,KAAK,CAACC,IAAI,CAACJ,UAAU,CAACpB,KAAK,CAACqB,OAAO,CAAC;MAClE,IAAID,UAAU,CAACpB,KAAK,CAACyB,IAAI,EAAEF,KAAK,CAACC,IAAI,CAACJ,UAAU,CAACpB,KAAK,CAACyB,IAAI,CAAC;MAC5D,OAAOF,KAAK,CAACjB,IAAI,CAAC,KAAK,CAAC;IAC1B,CAAC,CAAC;IAEF,MAAMoB,QAAQ,GAAGtC,QAAQ,CAAC,MAAMM,MAAM,CAACM,KAAK,CAAC2B,EAAE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}