{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { defineStore } from 'pinia';\nimport { sendApi } from '@/utils/api';\nexport const useNewsStore = defineStore('news', {\n  state: () => ({\n    isLoaded: false,\n    hasRule: false,\n    cards: []\n  }),\n  actions: {\n    async fetchNews() {\n      this.isLoaded = false;\n      const news = await sendApi({\n        action: 'get_news',\n        control: 'news'\n      });\n      if (news.status === 'success') {\n        this.cards = (news.data || []).map(cat => ({\n          id: cat.id,\n          location: cat.location,\n          category: cat.category ?? 'کلی',\n          description: cat.description,\n          created_at: cat.created_at,\n          type: cat.type,\n          medias: (cat.media || []).map(media => ({\n            type: media.type,\n            url: media.url\n          }))\n        }));\n        this.hasRule = news.rule || false;\n      }\n      this.isLoaded = true;\n    }\n  }\n});","map":{"version":3,"names":["defineStore","sendApi","useNewsStore","state","isLoaded","hasRule","cards","actions","fetchNews","news","action","control","status","data","map","cat","id","location","category","description","created_at","type","medias","media","url","rule"],"sources":["D:/GitHub/ci3-vue3/vue3/src/stores/news.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { sendApi } from '@/utils/api'\r\n\r\nexport const useNewsStore = defineStore('news', {\r\n  state: () => ({\r\n    isLoaded: false,\r\n    hasRule: false,\r\n    cards: [],\r\n  }),\r\n  actions: {\r\n    async fetchNews() {\r\n      this.isLoaded = false\r\n      const news = await sendApi({ action: 'get_news', control: 'news' })\r\n      if (news.status === 'success') {\r\n        this.cards = (news.data || []).map(cat => ({\r\n          id: cat.id,\r\n          location: cat.location,\r\n          category: cat.category ?? 'کلی',\r\n          description: cat.description,\r\n          created_at: cat.created_at,\r\n          type: cat.type,\r\n          medias: (cat.media || []).map(media => ({\r\n            type: media.type,\r\n            url: media.url,\r\n          })),\r\n        }))\r\n        this.hasRule = news.rule || false\r\n      }\r\n      this.isLoaded = true\r\n    }\r\n  }\r\n})\r\n"],"mappings":";;AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,OAAO,QAAQ,aAAa;AAErC,OAAO,MAAMC,YAAY,GAAGF,WAAW,CAAC,MAAM,EAAE;EAC9CG,KAAK,EAAEA,CAAA,MAAO;IACZC,QAAQ,EAAE,KAAK;IACfC,OAAO,EAAE,KAAK;IACdC,KAAK,EAAE;EACT,CAAC,CAAC;EACFC,OAAO,EAAE;IACP,MAAMC,SAASA,CAAA,EAAG;MAChB,IAAI,CAACJ,QAAQ,GAAG,KAAK;MACrB,MAAMK,IAAI,GAAG,MAAMR,OAAO,CAAC;QAAES,MAAM,EAAE,UAAU;QAAEC,OAAO,EAAE;MAAO,CAAC,CAAC;MACnE,IAAIF,IAAI,CAACG,MAAM,KAAK,SAAS,EAAE;QAC7B,IAAI,CAACN,KAAK,GAAG,CAACG,IAAI,CAACI,IAAI,IAAI,EAAE,EAAEC,GAAG,CAACC,GAAG,KAAK;UACzCC,EAAE,EAAED,GAAG,CAACC,EAAE;UACVC,QAAQ,EAAEF,GAAG,CAACE,QAAQ;UACtBC,QAAQ,EAAEH,GAAG,CAACG,QAAQ,IAAI,KAAK;UAC/BC,WAAW,EAAEJ,GAAG,CAACI,WAAW;UAC5BC,UAAU,EAAEL,GAAG,CAACK,UAAU;UAC1BC,IAAI,EAAEN,GAAG,CAACM,IAAI;UACdC,MAAM,EAAE,CAACP,GAAG,CAACQ,KAAK,IAAI,EAAE,EAAET,GAAG,CAACS,KAAK,KAAK;YACtCF,IAAI,EAAEE,KAAK,CAACF,IAAI;YAChBG,GAAG,EAAED,KAAK,CAACC;UACb,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,CAACnB,OAAO,GAAGI,IAAI,CAACgB,IAAI,IAAI,KAAK;MACnC;MACA,IAAI,CAACrB,QAAQ,GAAG,IAAI;IACtB;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}