{"ast":null,"code":"import { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nimport { ref, watch, onMounted } from 'vue';\nimport Step1 from '@/components/home/PhoneLogin/Step1.vue';\nimport Step2 from '@/components/home/PhoneLogin/Step2.vue';\nexport default {\n  __name: 'PhoneLogin',\n  setup(__props) {\n    const step = ref(1);\n    const phone = ref('');\n    watch(step, val => localStorage.setItem('login_step', val));\n    watch(phone, val => localStorage.setItem('phone', val));\n    onMounted(() => {\n      const savedStep = localStorage.getItem('login_step');\n      const savedPhone = localStorage.getItem('phone');\n      if (savedStep) step.value = parseInt(savedStep);\n      if (savedPhone) phone.value = savedPhone;\n    });\n    const goStep2 = value => {\n      if (value) step.value = 2;else step.value = 1;\n    };\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", null, [step.value === 1 ? (_openBlock(), _createBlock(Step1, {\n        key: 0,\n        phone: phone.value,\n        onSuccess: goStep2,\n        onValid: _cache[0] || (_cache[0] = $event => _ctx.$emit('validPhone', true))\n      }, null, 8, [\"phone\"])) : step.value === 2 ? (_openBlock(), _createBlock(Step2, {\n        key: 1,\n        phone: phone.value,\n        onEditPhone: _cache[1] || (_cache[1] = $event => step.value = 1)\n      }, null, 8, [\"phone\"])) : _createCommentVNode(\"\", true)]);\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","onMounted","Step1","Step2","step","phone","val","localStorage","setItem","savedStep","getItem","savedPhone","value","parseInt","goStep2"],"sources":["D:/GitHub/ci3-vue3/vue3/src/components/home/PhoneLogin.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <Step1 v-if=\" step === 1\" :phone=\"phone\" @success=\"goStep2\" @valid=\"$emit('validPhone', true)\"/>\r\n    <Step2 v-else-if=\" step === 2\" :phone=\"phone\" @edit-phone=\"step = 1\"/>\r\n  </div>\r\n</template>\r\n<script setup>\r\n  import { ref,watch,onMounted } from 'vue'\r\n  import Step1 from '@/components/home/PhoneLogin/Step1.vue'\r\n  import Step2 from '@/components/home/PhoneLogin/Step2.vue'\r\n  const step=ref(1)\r\n  const phone=ref('')\r\n  watch(step, val => localStorage.setItem('login_step', val))\r\n  watch(phone, val => localStorage.setItem('phone', val))\r\n  onMounted(() => {\r\n    const savedStep = localStorage.getItem('login_step')\r\n    const savedPhone = localStorage.getItem('phone')\r\n    if (savedStep) step.value = parseInt(savedStep)\r\n    if (savedPhone) phone.value = savedPhone\r\n  })\r\n  const goStep2=(value)=>{\r\n    if(value)\r\n      step.value=2\r\n    else\r\n      step.value=1\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  form {\r\n    max-width: 300px;\r\n    margin: auto;\r\n  }\r\n  label,\r\n  input,\r\n  button {\r\n    display: block;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n  }\r\n  button{\r\n    background-color: green;\r\n    color: white;\r\n    padding: 7px;\r\n    border-radius: 10px;\r\n    border: none;\r\n  }\r\n  button[disabled] {\r\n    opacity: 0.6;\r\n    background-color: rgb(143, 141, 141);\r\n    cursor: not-allowed;\r\n  }\r\n  input {\r\n    box-sizing: border-box;\r\n    padding: 7px;\r\n    border: none;\r\n    outline: none;\r\n    border-radius: 10px;\r\n    background-color: #edefff;\r\n}\r\n</style>\r\n"],"mappings":";AAOE,SAASA,GAAG,EAACC,KAAK,EAACC,SAAS,QAAQ,KAAK;AACzC,OAAOC,KAAK,MAAM,wCAAwC;AAC1D,OAAOC,KAAK,MAAM,wCAAwC;;;;IAC1D,MAAMC,IAAI,GAACL,GAAG,CAAC,CAAC,CAAC;IACjB,MAAMM,KAAK,GAACN,GAAG,CAAC,EAAE,CAAC;IACnBC,KAAK,CAACI,IAAI,EAAEE,GAAG,IAAIC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEF,GAAG,CAAC,CAAC;IAC3DN,KAAK,CAACK,KAAK,EAAEC,GAAG,IAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,GAAG,CAAC,CAAC;IACvDL,SAAS,CAAC,MAAM;MACd,MAAMQ,SAAS,GAAGF,YAAY,CAACG,OAAO,CAAC,YAAY,CAAC;MACpD,MAAMC,UAAU,GAAGJ,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;MAChD,IAAID,SAAS,EAAEL,IAAI,CAACQ,KAAK,GAAGC,QAAQ,CAACJ,SAAS,CAAC;MAC/C,IAAIE,UAAU,EAAEN,KAAK,CAACO,KAAK,GAAGD,UAAU;IAC1C,CAAC,CAAC;IACF,MAAMG,OAAO,GAAEF,KAAK,IAAG;MACrB,IAAGA,KAAK,EACNR,IAAI,CAACQ,KAAK,GAAC,CAAC,MAEZR,IAAI,CAACQ,KAAK,GAAC,CAAC;IAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}