{"ast":null,"code":"import { unref as _unref, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"nav\"\n};\nconst _hoisted_2 = {\n  class: \"logo\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"tooles\"\n};\nconst _hoisted_5 = {\n  class: \"user-info\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"img\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"other-info\"\n};\nimport FingerPrintRegister from '@/components/dashboard/menus/topNavTooles/FingerPrintRegister.vue';\nimport LogOutUser from '@/components/dashboard/menus/topNavTooles/LogOutUser.vue';\nimport logo from '@/assets/logo.png';\nimport { ref, onMounted } from 'vue';\nimport { sendApi } from '@/utils/api';\nexport default {\n  __name: 'TopNav',\n  setup(__props) {\n    const userName = ref('');\n    const userImage = ref('');\n    const userWalletAmount = ref(0);\n    onMounted(async () => {\n      const UserInfo = await sendApi({\n        action: 'get_user_info',\n        control: 'user'\n      });\n      if (UserInfo.status === 'success') {\n        userName.value = UserInfo.name;\n        userWalletAmount.value = UserInfo.wallet;\n        userImage.value = UserInfo.image;\n      } else {\n        console.warn(UserInfo);\n      }\n    });\n    function formatPrice(price) {\n      if (!price && price !== 0) return '-';\n      return new Intl.NumberFormat('fa-IR').format(price) + ' تومان';\n    }\n    return (_ctx, _cache) => {\n      const _component_RouterLink = _resolveComponent(\"RouterLink\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n        src: _unref(logo),\n        alt: \"logo\"\n      }, null, 8, _hoisted_3)]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_RouterLink, {\n        to: \"wallet\"\n      }, {\n        default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\" wallet \")])),\n        _: 1,\n        __: [0]\n      }), _createVNode(LogOutUser), _createVNode(FingerPrintRegister)]), _createElementVNode(\"div\", _hoisted_5, [userImage.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"img\", {\n        src: userImage.value,\n        alt: \"user image\"\n      }, null, 8, _hoisted_7)])) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"span\", null, _toDisplayString(userName.value), 1), _cache[1] || (_cache[1] = _createElementVNode(\"br\", null, null, -1)), _createElementVNode(\"span\", null, _toDisplayString(formatPrice(userWalletAmount.value)), 1)])])]);\n    };\n  }\n};","map":{"version":3,"names":["FingerPrintRegister","LogOutUser","logo","ref","onMounted","sendApi","userName","userImage","userWalletAmount","UserInfo","action","control","status","value","name","wallet","image","console","warn","formatPrice","price","Intl","NumberFormat","format"],"sources":["D:/GitHub/ci3-vue3/vue3/src/components/dashboard/menus/TopNav.vue"],"sourcesContent":["<template>\r\n  <div class=\"nav\">\r\n    <div class=\"logo\">\r\n      <img :src=\"logo\" alt=\"logo\">\r\n    </div>\r\n    <div class=\"tooles\">\r\n      <RouterLink to=\"wallet\">\r\n        wallet\r\n      </RouterLink>\r\n      <LogOutUser/>\r\n      <FingerPrintRegister/>\r\n    </div>\r\n    <div class=\"user-info\">\r\n      <div v-if=\"userImage\" class=\"img\">\r\n        <img :src=\"userImage\" alt=\"user image\">\r\n      </div>\r\n      <div class=\"other-info\">\r\n        <span>\r\n          {{ userName }}\r\n        </span>\r\n        <br>\r\n        <span>\r\n          {{ formatPrice(userWalletAmount) }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\n  import FingerPrintRegister from '@/components/dashboard/menus/topNavTooles/FingerPrintRegister.vue';\r\n  import LogOutUser from '@/components/dashboard/menus/topNavTooles/LogOutUser.vue';\r\n  import logo from '@/assets/logo.png'\r\n  import { ref,onMounted } from 'vue';\r\n  import { sendApi } from '@/utils/api';\r\n  const userName=ref('');\r\n  const userImage=ref('');\r\n  const userWalletAmount=ref(0);\r\n  onMounted(async ()=>{\r\n    const UserInfo = await sendApi({action: 'get_user_info',control:'user'})\r\n    if(UserInfo.status==='success'){\r\n      userName.value=UserInfo.name\r\n      userWalletAmount.value=UserInfo.wallet\r\n      userImage.value=UserInfo.image\r\n    }else{\r\n      console.warn(UserInfo)\r\n    }\r\n  })\r\n  function formatPrice(price) {\r\n    if (!price && price !== 0) return '-'\r\n    return new Intl.NumberFormat('fa-IR').format(price) + ' تومان'\r\n  }\r\n</script>\r\n<style scoped>\r\n  .nav,.logo,\r\n  .tooles,\r\n  .user-info{\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    flex-wrap: nowrap;\r\n    justify-content: space-around;\r\n    align-items: stretch;\r\n    gap: 5px;\r\n    height: 60px;\r\n    box-sizing: border-box;\r\n    padding-top: 5px;\r\n  }\r\n  img{\r\n    height: calc( 100% - 20px);\r\n  }\r\n\r\n</style>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AA6BE,OAAOA,mBAAmB,MAAM,mEAAmE;AACnG,OAAOC,UAAU,MAAM,0DAA0D;AACjF,OAAOC,IAAI,MAAM,mBAAmB;AACpC,SAASC,GAAG,EAACC,SAAS,QAAQ,KAAK;AACnC,SAASC,OAAO,QAAQ,aAAa;;;;IACrC,MAAMC,QAAQ,GAACH,GAAG,CAAC,EAAE,CAAC;IACtB,MAAMI,SAAS,GAACJ,GAAG,CAAC,EAAE,CAAC;IACvB,MAAMK,gBAAgB,GAACL,GAAG,CAAC,CAAC,CAAC;IAC7BC,SAAS,CAAC,YAAU;MAClB,MAAMK,QAAQ,GAAG,MAAMJ,OAAO,CAAC;QAACK,MAAM,EAAE,eAAe;QAACC,OAAO,EAAC;MAAM,CAAC,CAAC;MACxE,IAAGF,QAAQ,CAACG,MAAM,KAAG,SAAS,EAAC;QAC7BN,QAAQ,CAACO,KAAK,GAACJ,QAAQ,CAACK,IAAI;QAC5BN,gBAAgB,CAACK,KAAK,GAACJ,QAAQ,CAACM,MAAM;QACtCR,SAAS,CAACM,KAAK,GAACJ,QAAQ,CAACO,KAAK;MAChC,CAAC,MAAI;QACHC,OAAO,CAACC,IAAI,CAACT,QAAQ,CAAC;MACxB;IACF,CAAC,CAAC;IACF,SAASU,WAAWA,CAACC,KAAK,EAAE;MAC1B,IAAI,CAACA,KAAK,IAAIA,KAAK,KAAK,CAAC,EAAE,OAAO,GAAG;MACrC,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,GAAG,QAAQ;IAChE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}