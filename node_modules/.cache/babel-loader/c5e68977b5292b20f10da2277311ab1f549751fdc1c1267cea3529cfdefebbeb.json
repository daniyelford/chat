{"ast":null,"code":"import { createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, unref as _unref, withModifiers as _withModifiers, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"nav-top\"\n};\nconst _hoisted_2 = {\n  key: 8\n};\nconst _hoisted_3 = {\n  class: \"menu-content\"\n};\nconst _hoisted_4 = {\n  key: 8\n};\nimport TopNav from '@/components/dashboard/menus/TopNav.vue';\nimport ExteraMenu from '@/components/dashboard/menus/ExteraMenu.vue';\nimport AddNewsForm from '@/components/dashboard/pagesContent/AddNewsForm.vue';\nimport AllCartables from '@/components/dashboard/pagesContent/AllCartables.vue';\nimport NewsCards from '@/components/dashboard/pagesContent/NewsCards.vue';\nimport ManageNews from '@/components/dashboard/pagesContent/ManageNews.vue';\nimport ReportList from '@/components/dashboard/pagesContent/ReportList.vue';\nimport ShowCartable from '@/components/dashboard/pagesContent/ShowCartable.vue';\nimport ShowNews from '@/components/dashboard/pagesContent/ShowNews.vue';\nimport UserSetting from '@/components/dashboard/pagesContent/UserSetting.vue';\nimport { ref, computed, onMounted } from 'vue';\nimport { useMenuStore } from '@/stores/menu';\nimport { subscribeToPush } from '@/utils/pushService';\nimport { BASE_URL } from '@/config';\nexport default {\n  __name: 'MainDashboard',\n  props: {\n    view: String,\n    id: [String, Number]\n  },\n  setup(__props) {\n    const menu = useMenuStore();\n    const backgroundImage = ref(BASE_URL + '/assets/images/content.jpg');\n    const props = __props;\n    const contentStyle = computed(() => ({\n      backgroundImage: `url(${backgroundImage.value})`,\n      backgroundSize: 'cover',\n      backgroundPosition: 'center'\n    }));\n    onMounted(() => {\n      if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.register(`${BASE_URL}/assets/sw.js`).then(() => {\n          subscribeToPush();\n        }).catch(err => {\n          console.error('SW registration failed:', err);\n        });\n      }\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(TopNav)]), _createElementVNode(\"div\", {\n        class: \"content\",\n        style: _normalizeStyle(contentStyle.value)\n      }, [props.view === 'dashboard' ? (_openBlock(), _createBlock(NewsCards, {\n        key: 0\n      })) : props.view === 'add-news' ? (_openBlock(), _createBlock(AddNewsForm, {\n        key: 1\n      })) : props.view === 'report-list' ? (_openBlock(), _createBlock(ReportList, {\n        key: 2\n      })) : props.view === 'manage-news' ? (_openBlock(), _createBlock(ManageNews, {\n        key: 3\n      })) : props.view === 'user-setting' ? (_openBlock(), _createBlock(UserSetting, {\n        key: 4\n      })) : props.view === 'cartable' ? (_openBlock(), _createBlock(AllCartables, {\n        key: 5\n      })) : props.view === 'show-cartable' ? (_openBlock(), _createBlock(ShowCartable, {\n        key: 6,\n        id: props.id\n      }, null, 8, [\"id\"])) : props.view === 'show-news' ? (_openBlock(), _createBlock(ShowNews, {\n        key: 7,\n        id: props.id\n      }, null, 8, [\"id\"])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_2, \"نمایش مشخصی یافت نشد\"))], 4), _unref(menu).isOpen ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        class: \"menu-modal\",\n        onClick: _cache[1] || (_cache[1] = _withModifiers((...args) => _unref(menu).close && _unref(menu).close(...args), [\"self\"]))\n      }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n        class: \"close-btn\",\n        onClick: _cache[0] || (_cache[0] = (...args) => _unref(menu).close && _unref(menu).close(...args))\n      }, \"×\"), props.view === 'dashboard' ? (_openBlock(), _createBlock(ExteraMenu, {\n        key: 0,\n        cartable: true,\n        wallet: true,\n        list: true,\n        add: true,\n        manage: true,\n        setting: true\n      })) : props.view === 'add-news' ? (_openBlock(), _createBlock(ExteraMenu, {\n        key: 1,\n        cartable: true,\n        wallet: true,\n        list: true,\n        add: false,\n        manage: true,\n        setting: true\n      })) : props.view === 'report-list' ? (_openBlock(), _createBlock(ExteraMenu, {\n        key: 2,\n        cartable: true,\n        wallet: true,\n        list: false,\n        add: true,\n        manage: true,\n        setting: true\n      })) : props.view === 'manage-news' ? (_openBlock(), _createBlock(ExteraMenu, {\n        key: 3,\n        cartable: true,\n        wallet: true,\n        list: true,\n        add: true,\n        manage: false,\n        setting: true\n      })) : props.view === 'show-news' ? (_openBlock(), _createBlock(ExteraMenu, {\n        key: 4,\n        cartable: true,\n        wallet: true,\n        list: true,\n        add: true,\n        manage: false,\n        setting: true\n      })) : props.view === 'user-setting' ? (_openBlock(), _createBlock(ExteraMenu, {\n        key: 5,\n        cartable: true,\n        wallet: true,\n        list: true,\n        add: true,\n        manage: true,\n        setting: false\n      })) : props.view === 'cartable' ? (_openBlock(), _createBlock(ExteraMenu, {\n        key: 6,\n        cartable: false,\n        wallet: true,\n        list: true,\n        add: true,\n        manage: true,\n        setting: true\n      })) : props.view === 'show-cartable' ? (_openBlock(), _createBlock(ExteraMenu, {\n        key: 7,\n        cartable: false,\n        wallet: true,\n        list: true,\n        add: true,\n        manage: true,\n        setting: true\n      })) : (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \"نمایش مشخصی یافت نشد\"))])])) : _createCommentVNode(\"\", true)], 64);\n    };\n  }\n};","map":{"version":3,"names":["TopNav","ExteraMenu","AddNewsForm","AllCartables","NewsCards","ManageNews","ReportList","ShowCartable","ShowNews","UserSetting","ref","computed","onMounted","useMenuStore","subscribeToPush","BASE_URL","menu","backgroundImage","props","__props","contentStyle","value","backgroundSize","backgroundPosition","navigator","serviceWorker","register","then","catch","err","console","error"],"sources":["D:/GitHub/chat/vue3/src/views/dashboard/MainDashboard.vue"],"sourcesContent":["<template>\r\n    <div class=\"nav-top\">\r\n        <TopNav />\r\n    </div>\r\n    <div class=\"content\" :style=\"contentStyle\">\r\n        <NewsCards v-if=\"props.view === 'dashboard'\" />\r\n        <AddNewsForm v-else-if=\"props.view === 'add-news'\"/>\r\n        <ReportList v-else-if=\"props.view === 'report-list'\" />\r\n        <ManageNews v-else-if=\"props.view === 'manage-news'\" />\r\n        <UserSetting v-else-if=\"props.view === 'user-setting'\" />\r\n        <AllCartables v-else-if=\"props.view === 'cartable'\" />\r\n        <ShowCartable v-else-if=\"props.view === 'show-cartable'\" :id=\"props.id\" />\r\n        <ShowNews v-else-if=\"props.view === 'show-news'\" :id=\"props.id\" />\r\n        <p v-else>نمایش مشخصی یافت نشد</p>\r\n    </div>\r\n    <div v-if=\"menu.isOpen\" class=\"menu-modal\" @click.self=\"menu.close\">\r\n        <div class=\"menu-content\">\r\n            <button class=\"close-btn\" @click=\"menu.close\">×</button>\r\n            <ExteraMenu v-if=\"props.view === 'dashboard'\" :cartable=\"true\" :wallet=\"true\" :list=\"true\" :add=\"true\" :manage=\"true\" :setting=\"true\"/>\r\n            <ExteraMenu v-else-if=\"props.view === 'add-news'\" :cartable=\"true\" :wallet=\"true\" :list=\"true\" :add=\"false\" :manage=\"true\" :setting=\"true\"/>\r\n            <ExteraMenu v-else-if=\"props.view === 'report-list'\" :cartable=\"true\" :wallet=\"true\" :list=\"false\" :add=\"true\" :manage=\"true\" :setting=\"true\"/>\r\n            <ExteraMenu v-else-if=\"props.view === 'manage-news'\" :cartable=\"true\" :wallet=\"true\" :list=\"true\" :add=\"true\" :manage=\"false\" :setting=\"true\"/>\r\n            <ExteraMenu v-else-if=\"props.view === 'show-news'\" :cartable=\"true\" :wallet=\"true\" :list=\"true\" :add=\"true\" :manage=\"false\" :setting=\"true\"/>\r\n            <ExteraMenu v-else-if=\"props.view === 'user-setting'\" :cartable=\"true\" :wallet=\"true\" :list=\"true\" :add=\"true\" :manage=\"true\" :setting=\"false\"/>\r\n            <ExteraMenu v-else-if=\"props.view === 'cartable'\" :cartable=\"false\" :wallet=\"true\" :list=\"true\" :add=\"true\" :manage=\"true\" :setting=\"true\"/>\r\n            <ExteraMenu v-else-if=\"props.view === 'show-cartable'\" :cartable=\"false\" :wallet=\"true\" :list=\"true\" :add=\"true\" :manage=\"true\" :setting=\"true\"/>\r\n            <p v-else>نمایش مشخصی یافت نشد</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script setup>\r\n    import TopNav from '@/components/dashboard/menus/TopNav.vue';\r\n    import ExteraMenu from '@/components/dashboard/menus/ExteraMenu.vue';\r\n    import AddNewsForm from '@/components/dashboard/pagesContent/AddNewsForm.vue';\r\n    import AllCartables from '@/components/dashboard/pagesContent/AllCartables.vue';\r\n    import NewsCards from '@/components/dashboard/pagesContent/NewsCards.vue';\r\n    import ManageNews from '@/components/dashboard/pagesContent/ManageNews.vue';\r\n    import ReportList from '@/components/dashboard/pagesContent/ReportList.vue';\r\n    import ShowCartable from '@/components/dashboard/pagesContent/ShowCartable.vue';\r\n    import ShowNews from '@/components/dashboard/pagesContent/ShowNews.vue';\r\n    import UserSetting from '@/components/dashboard/pagesContent/UserSetting.vue';\r\n    import { defineProps , ref , computed , onMounted } from 'vue'\r\n    import { useMenuStore } from '@/stores/menu'\r\n    import { subscribeToPush } from '@/utils/pushService';\r\n    const menu = useMenuStore()\r\n    import { BASE_URL } from '@/config';\r\n    const backgroundImage=ref(BASE_URL+'/assets/images/content.jpg')\r\n    const props = defineProps({\r\n        view: String,\r\n        id: [String, Number]\r\n    })\r\n    const contentStyle = computed(() => ({\r\n        backgroundImage: `url(${backgroundImage.value})`,\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    }))\r\n\r\n    onMounted(() => {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.register(`${BASE_URL}/assets/sw.js`)\r\n        .then(() => {\r\n            subscribeToPush()\r\n        })\r\n        .catch(err => {\r\n            console.error('SW registration failed:', err);\r\n        });\r\n    }\r\n    });\r\n</script>\r\n<style scoped>\r\n    .menu-modal {\r\n        position: fixed;\r\n        inset: 0;\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n        z-index: 999;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n    }\r\n    .menu-content {\r\n        width: 290px;\r\n        background: white;\r\n        height: 100%;\r\n    }\r\n    .close-btn {\r\n        font-size: 20px;\r\n        border: none;\r\n        background: transparent;\r\n        cursor: pointer;\r\n        float: left;\r\n    }\r\n    .nav-top,.content{\r\n        position: fixed;\r\n        box-shadow: 0 0 6px grey;\r\n        left: 0;\r\n        right: 0;\r\n        box-sizing: border-box;\r\n        border: 1px solid #9b7ca9c4;\r\n    }\r\n    .nav-top{\r\n        height: 60px;\r\n        z-index: 9;\r\n        top: 0;\r\n    }\r\n    .content{\r\n        background-origin: border-box;\r\n        height: auto;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n        background-size: cover;\r\n        top: 60px;\r\n        bottom: 0;\r\n        padding: 10px;\r\n        height: auto;\r\n        overflow-y: auto;\r\n        overflow-x: hidden;\r\n    }\r\n</style>"],"mappings":";;;;;;;;;;;;;AA+BI,OAAOA,MAAM,MAAM,yCAAyC;AAC5D,OAAOC,UAAU,MAAM,6CAA6C;AACpE,OAAOC,WAAW,MAAM,qDAAqD;AAC7E,OAAOC,YAAY,MAAM,sDAAsD;AAC/E,OAAOC,SAAS,MAAM,mDAAmD;AACzE,OAAOC,UAAU,MAAM,oDAAoD;AAC3E,OAAOC,UAAU,MAAM,oDAAoD;AAC3E,OAAOC,YAAY,MAAM,sDAAsD;AAC/E,OAAOC,QAAQ,MAAM,kDAAkD;AACvE,OAAOC,WAAW,MAAM,qDAAqD;AAC7E,SAAuBC,GAAG,EAAGC,QAAQ,EAAGC,SAAS,QAAQ,KAAK;AAC9D,SAASC,YAAY,QAAQ,eAAe;AAC5C,SAASC,eAAe,QAAQ,qBAAqB;AAErD,SAASC,QAAQ,QAAQ,UAAU;;;;;;;;IADnC,MAAMC,IAAI,GAAGH,YAAY,CAAC,CAAC;IAE3B,MAAMI,eAAe,GAACP,GAAG,CAACK,QAAQ,GAAC,4BAA4B,CAAC;IAChE,MAAMG,KAAK,GAAGC,OAGZ;IACF,MAAMC,YAAY,GAAGT,QAAQ,CAAC,OAAO;MACjCM,eAAe,EAAE,OAAOA,eAAe,CAACI,KAAK,GAAG;MAChDC,cAAc,EAAE,OAAO;MACvBC,kBAAkB,EAAE;IACxB,CAAC,CAAC,CAAC;IAEHX,SAAS,CAAC,MAAM;MAChB,IAAI,eAAe,IAAIY,SAAS,EAAE;QAC9BA,SAAS,CAACC,aAAa,CAACC,QAAQ,CAAC,GAAGX,QAAQ,eAAe,CAAC,CAC3DY,IAAI,CAAC,MAAM;UACRb,eAAe,CAAC,CAAC;QACrB,CAAC,CAAC,CACDc,KAAK,CAACC,GAAG,IAAI;UACVC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEF,GAAG,CAAC;QACjD,CAAC,CAAC;MACN;IACA,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}