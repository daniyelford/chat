{"ast":null,"code":"import { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nimport { ref, watch, onMounted } from 'vue';\nimport PhoneForm from '@/components/home/PhoneLogin/PhoneForm.vue';\n// import Step2 from '@/components/home/PhoneLogin/Step2.vue'\n\nexport default {\n  __name: 'PhoneLogin',\n  emits: ['validPhone'],\n  setup(__props, {\n    emit: __emit\n  }) {\n    const step = ref(1);\n    const phone = ref('');\n    const emit = __emit;\n    watch(step, val => localStorage.setItem('login_step', val));\n    onMounted(() => {\n      const savedStep = localStorage.getItem('login_step');\n      const savedPhone = localStorage.getItem('phone');\n      if (savedStep) step.value = parseInt(savedStep);\n      if (savedPhone) phone.value = savedPhone;\n    });\n    const goStep2 = val => {\n      if (val) {\n        phone.value = val;\n        step.value = 2;\n      } else {\n        step.value = 1;\n      }\n    };\n    const validPhone = val => {\n      emit('validPhone', val);\n    };\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", null, [step.value === 1 ? (_openBlock(), _createBlock(PhoneForm, {\n        key: 0,\n        onSuccess: goStep2,\n        onValid: validPhone\n      })) : _createCommentVNode(\"\", true)]);\n    };\n  }\n};","map":{"version":3,"names":["ref","watch","onMounted","PhoneForm","step","phone","emit","__emit","val","localStorage","setItem","savedStep","getItem","savedPhone","value","parseInt","goStep2","validPhone"],"sources":["D:/GitHub/ci3-vue3/vue3/src/components/home/PhoneLogin.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <PhoneForm v-if=\" step === 1\" @success=\"goStep2\" @valid=\"validPhone\"/>\r\n    <!-- <Step2 v-else-if=\" step === 2\" :phone=\"phone\" @edit-phone=\"step = 1\"/> -->\r\n  </div>\r\n</template>\r\n<script setup>\r\n  import { ref,watch,onMounted } from 'vue'\r\n  import PhoneForm from '@/components/home/PhoneLogin/PhoneForm.vue'\r\n  // import Step2 from '@/components/home/PhoneLogin/Step2.vue'\r\n  const step=ref(1)\r\n  const phone=ref('')\r\n    const emit = defineEmits(['validPhone'])\r\n  watch(step, val => localStorage.setItem('login_step', val))\r\n  onMounted(() => {\r\n    const savedStep = localStorage.getItem('login_step')\r\n    const savedPhone = localStorage.getItem('phone')\r\n    if (savedStep) step.value = parseInt(savedStep)\r\n    if (savedPhone) phone.value = savedPhone\r\n  })\r\n  const goStep2=(val)=>{\r\n    if(val){\r\n      phone.value=val\r\n      step.value=2\r\n    }else{\r\n      step.value=1\r\n    }\r\n  }\r\n  const validPhone=(val)=>{\r\n    emit('validPhone', val)\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  form {\r\n    max-width: 300px;\r\n    margin: auto;\r\n  }\r\n  label,\r\n  input,\r\n  button {\r\n    display: block;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n  }\r\n  button{\r\n    background-color: green;\r\n    color: white;\r\n    padding: 7px;\r\n    border-radius: 10px;\r\n    border: none;\r\n  }\r\n  button[disabled] {\r\n    opacity: 0.6;\r\n    background-color: rgb(143, 141, 141);\r\n    cursor: not-allowed;\r\n  }\r\n  input {\r\n    box-sizing: border-box;\r\n    padding: 7px;\r\n    border: none;\r\n    outline: none;\r\n    border-radius: 10px;\r\n    background-color: #edefff;\r\n}\r\n</style>\r\n"],"mappings":";AAOE,SAASA,GAAG,EAACC,KAAK,EAACC,SAAS,QAAQ,KAAK;AACzC,OAAOC,SAAS,MAAM,4CAA4C;AAClE;;;;;;;;IACA,MAAMC,IAAI,GAACJ,GAAG,CAAC,CAAC,CAAC;IACjB,MAAMK,KAAK,GAACL,GAAG,CAAC,EAAE,CAAC;IACjB,MAAMM,IAAI,GAAGC,MAA2B;IAC1CN,KAAK,CAACG,IAAI,EAAEI,GAAG,IAAIC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEF,GAAG,CAAC,CAAC;IAC3DN,SAAS,CAAC,MAAM;MACd,MAAMS,SAAS,GAAGF,YAAY,CAACG,OAAO,CAAC,YAAY,CAAC;MACpD,MAAMC,UAAU,GAAGJ,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;MAChD,IAAID,SAAS,EAAEP,IAAI,CAACU,KAAK,GAAGC,QAAQ,CAACJ,SAAS,CAAC;MAC/C,IAAIE,UAAU,EAAER,KAAK,CAACS,KAAK,GAAGD,UAAU;IAC1C,CAAC,CAAC;IACF,MAAMG,OAAO,GAAER,GAAG,IAAG;MACnB,IAAGA,GAAG,EAAC;QACLH,KAAK,CAACS,KAAK,GAACN,GAAG;QACfJ,IAAI,CAACU,KAAK,GAAC,CAAC;MACd,CAAC,MAAI;QACHV,IAAI,CAACU,KAAK,GAAC,CAAC;MACd;IACF,CAAC;IACD,MAAMG,UAAU,GAAET,GAAG,IAAG;MACtBF,IAAI,CAAC,YAAY,EAAEE,GAAG,CAAC;IACzB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}