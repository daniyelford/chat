{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { sendApi } from '@/utils/api';\nexport const useSecurityStore = defineStore('security', {\n  state: () => ({\n    isAuth: null,\n    hasMobile: null\n  }),\n  actions: {\n    async checkAuth() {\n      if (this.isAuth !== null) return this.isAuth;\n      const res = await sendApi({\n        action: 'check_auth',\n        control: 'security'\n      });\n      this.isAuth = res.status === 'success';\n      return this.isAuth;\n    },\n    async checkHasMobile() {\n      if (this.hasMobile !== null) return this.hasMobile;\n      const res = await sendApi({\n        action: 'check_has_mobile',\n        control: 'security'\n      });\n      this.hasMobile = res.status === 'success';\n      return this.hasMobile;\n    }\n  }\n});","map":{"version":3,"names":["defineStore","sendApi","useSecurityStore","state","isAuth","hasMobile","actions","checkAuth","res","action","control","status","checkHasMobile"],"sources":["D:/GitHub/chat/vue3/src/stores/security.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { sendApi } from '@/utils/api';\r\nexport const useSecurityStore = defineStore('security', {\r\n  state: () => ({\r\n    isAuth: null,\r\n    hasMobile: null\r\n  }),\r\n  actions: {\r\n    async checkAuth() {\r\n      if (this.isAuth !== null) return this.isAuth;\r\n      const res = await sendApi({ action: 'check_auth', control: 'security' });\r\n      this.isAuth = res.status === 'success';\r\n      return this.isAuth;\r\n    },\r\n    async checkHasMobile() {\r\n      if (this.hasMobile !== null) return this.hasMobile;\r\n      const res = await sendApi({ action: 'check_has_mobile', control: 'security' });\r\n      this.hasMobile = res.status === 'success';\r\n      return this.hasMobile;\r\n    }\r\n  }\r\n})"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,OAAO,QAAQ,aAAa;AACrC,OAAO,MAAMC,gBAAgB,GAAGF,WAAW,CAAC,UAAU,EAAE;EACtDG,KAAK,EAAEA,CAAA,MAAO;IACZC,MAAM,EAAE,IAAI;IACZC,SAAS,EAAE;EACb,CAAC,CAAC;EACFC,OAAO,EAAE;IACP,MAAMC,SAASA,CAAA,EAAG;MAChB,IAAI,IAAI,CAACH,MAAM,KAAK,IAAI,EAAE,OAAO,IAAI,CAACA,MAAM;MAC5C,MAAMI,GAAG,GAAG,MAAMP,OAAO,CAAC;QAAEQ,MAAM,EAAE,YAAY;QAAEC,OAAO,EAAE;MAAW,CAAC,CAAC;MACxE,IAAI,CAACN,MAAM,GAAGI,GAAG,CAACG,MAAM,KAAK,SAAS;MACtC,OAAO,IAAI,CAACP,MAAM;IACpB,CAAC;IACD,MAAMQ,cAAcA,CAAA,EAAG;MACrB,IAAI,IAAI,CAACP,SAAS,KAAK,IAAI,EAAE,OAAO,IAAI,CAACA,SAAS;MAClD,MAAMG,GAAG,GAAG,MAAMP,OAAO,CAAC;QAAEQ,MAAM,EAAE,kBAAkB;QAAEC,OAAO,EAAE;MAAW,CAAC,CAAC;MAC9E,IAAI,CAACL,SAAS,GAAGG,GAAG,CAACG,MAAM,KAAK,SAAS;MACzC,OAAO,IAAI,CAACN,SAAS;IACvB;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}