{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"tokens-section\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"no-data\"\n};\nconst _hoisted_5 = {\n  class: \"tokens-list\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"total-amount\"\n};\nimport { ref, onMounted, computed } from 'vue';\nimport { sendApi } from '@/utils/api';\nexport default {\n  __name: 'TokensAmountSection',\n  setup(__props) {\n    const loading = ref(false);\n    const tokens = ref([]);\n    const loadTokens = async () => {\n      loading.value = true;\n      const res = await sendApi({\n        control: 'wallet',\n        action: 'get_tokens'\n      });\n      if (res.status === 'success') {\n        tokens.value = res.data || [];\n      } else {\n        alert('خطا در بارگذاری توکن‌ها');\n      }\n      loading.value = false;\n    };\n    const formatDate = datetime => new Date(datetime).toLocaleString('fa-IR');\n    const totalTokens = computed(() => tokens.value.reduce((sum, token) => sum + Number(token.amount || 0), 0));\n    onMounted(() => {\n      loadTokens();\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", {\n        class: \"section-title\"\n      }, \"توکن‌های دریافتی\", -1)), loading.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"در حال بارگذاری...\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [tokens.value.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \" شما هنوز توکنی دریافت نکرده‌اید. \")) : _createCommentVNode(\"\", true), _createElementVNode(\"ul\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(tokens.value, token => {\n        return _openBlock(), _createElementBlock(\"li\", {\n          key: token.id,\n          class: \"token-item\"\n        }, [_createElementVNode(\"p\", null, [_cache[0] || (_cache[0] = _createElementVNode(\"strong\", null, \"مقدار:\", -1)), _createTextVNode(\" \" + _toDisplayString(token.amount), 1)]), _createElementVNode(\"p\", null, [_cache[1] || (_cache[1] = _createElementVNode(\"strong\", null, \"منبع:\", -1)), _createTextVNode(\" \" + _toDisplayString(token.source || 'نامشخص'), 1)]), _createElementVNode(\"p\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"strong\", null, \"تاریخ:\", -1)), _createTextVNode(\" \" + _toDisplayString(formatDate(token.created_at)), 1)])]);\n      }), 128))]), tokens.value.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_cache[3] || (_cache[3] = _createTextVNode(\" مجموع توکن‌ها: \")), _createElementVNode(\"strong\", null, _toDisplayString(totalTokens.value), 1)])) : _createCommentVNode(\"\", true)]))]);\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","computed","sendApi","loading","tokens","loadTokens","value","res","control","action","status","data","alert","formatDate","datetime","Date","toLocaleString","totalTokens","reduce","sum","token","Number","amount"],"sources":["D:/GitHub/chat/vue3/src/components/dashboard/pagesContent/wallet/TokensAmountSection.vue"],"sourcesContent":["<template>\r\n  <div class=\"tokens-section\">\r\n    <h2 class=\"section-title\">توکن‌های دریافتی</h2>\r\n\r\n    <div v-if=\"loading\" class=\"loading\">در حال بارگذاری...</div>\r\n\r\n    <div v-else>\r\n      <div v-if=\"tokens.length === 0\" class=\"no-data\">\r\n        شما هنوز توکنی دریافت نکرده‌اید.\r\n      </div>\r\n\r\n      <ul class=\"tokens-list\">\r\n        <li v-for=\"token in tokens\" :key=\"token.id\" class=\"token-item\">\r\n          <p><strong>مقدار:</strong> {{ token.amount }}</p>\r\n          <p><strong>منبع:</strong> {{ token.source || 'نامشخص' }}</p>\r\n          <p><strong>تاریخ:</strong> {{ formatDate(token.created_at) }}</p>\r\n        </li>\r\n      </ul>\r\n\r\n      <div class=\"total-amount\" v-if=\"tokens.length\">\r\n        مجموع توکن‌ها: <strong>{{ totalTokens }}</strong>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed } from 'vue'\r\nimport { sendApi } from '@/utils/api'\r\n\r\nconst loading = ref(false)\r\nconst tokens = ref([])\r\n\r\nconst loadTokens = async () => {\r\n  loading.value = true\r\n  const res = await sendApi({ control: 'wallet', action: 'get_tokens' })\r\n  if (res.status === 'success') {\r\n    tokens.value = res.data || []\r\n  } else {\r\n    alert('خطا در بارگذاری توکن‌ها')\r\n  }\r\n  loading.value = false\r\n}\r\n\r\nconst formatDate = (datetime) =>\r\n  new Date(datetime).toLocaleString('fa-IR')\r\n\r\nconst totalTokens = computed(() =>\r\n  tokens.value.reduce((sum, token) => sum + Number(token.amount || 0), 0)\r\n)\r\n\r\nonMounted(() => {\r\n  loadTokens()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.tokens-section {\r\n  padding: 1rem;\r\n}\r\n.section-title {\r\n  font-size: 1.2rem;\r\n  font-weight: bold;\r\n  margin-bottom: 1rem;\r\n}\r\n.tokens-list {\r\n  margin-bottom: 1.5rem;\r\n}\r\n.token-item {\r\n  border: 1px solid #ddd;\r\n  padding: 0.75rem;\r\n  margin-bottom: 0.75rem;\r\n  border-radius: 6px;\r\n}\r\n.total-amount {\r\n  font-weight: bold;\r\n  font-size: 1.1rem;\r\n  color: #16a34a;\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AA2BA,SAASA,GAAG,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,KAAK;AAC9C,SAASC,OAAO,QAAQ,aAAa;;;;IAErC,MAAMC,OAAO,GAAGJ,GAAG,CAAC,KAAK,CAAC;IAC1B,MAAMK,MAAM,GAAGL,GAAG,CAAC,EAAE,CAAC;IAEtB,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7BF,OAAO,CAACG,KAAK,GAAG,IAAI;MACpB,MAAMC,GAAG,GAAG,MAAML,OAAO,CAAC;QAAEM,OAAO,EAAE,QAAQ;QAAEC,MAAM,EAAE;MAAa,CAAC,CAAC;MACtE,IAAIF,GAAG,CAACG,MAAM,KAAK,SAAS,EAAE;QAC5BN,MAAM,CAACE,KAAK,GAAGC,GAAG,CAACI,IAAI,IAAI,EAAE;MAC/B,CAAC,MAAM;QACLC,KAAK,CAAC,yBAAyB,CAAC;MAClC;MACAT,OAAO,CAACG,KAAK,GAAG,KAAK;IACvB,CAAC;IAED,MAAMO,UAAU,GAAIC,QAAQ,IAC1B,IAAIC,IAAI,CAACD,QAAQ,CAAC,CAACE,cAAc,CAAC,OAAO,CAAC;IAE5C,MAAMC,WAAW,GAAGhB,QAAQ,CAAC,MAC3BG,MAAM,CAACE,KAAK,CAACY,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKD,GAAG,GAAGE,MAAM,CAACD,KAAK,CAACE,MAAM,IAAI,CAAC,CAAC,EAAE,CAAC,CACxE,CAAC;IAEDtB,SAAS,CAAC,MAAM;MACdK,UAAU,CAAC,CAAC;IACd,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}