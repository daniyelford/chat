{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_2 = {\n  key: 1,\n  class: \"card-inner\"\n};\nconst _hoisted_3 = {\n  class: \"info\"\n};\nconst _hoisted_4 = {\n  class: \"card-header\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"location\"\n};\nconst _hoisted_6 = {\n  class: \"card-category\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"medias\"\n};\nconst _hoisted_8 = {\n  class: \"name\"\n};\nconst _hoisted_9 = {\n  class: \"time\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"type\"\n};\nconst _hoisted_11 = {\n  class: \"choose\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = {\n  key: 2,\n  class: \"none-cart-error\"\n};\nimport { ref } from 'vue';\nimport moment from 'moment-jalaali';\nimport { sendApi } from '@/utils/api';\nimport { useNotification } from '@kyvg/vue3-notification';\nexport default {\n  __name: 'NewsCards',\n  setup(__props) {\n    const notif = useNotification();\n    const showNotification = () => {\n      notif.notify({\n        title: 'خبر جدید',\n        text: 'اخبار روز محدوده ی خود را با ما دنبال کنید',\n        type: 'info'\n      });\n    };\n    const isLoaded = ref(false);\n    const cards = ref([]);\n    const news = async () => {\n      await sendApi({\n        action: 'get_news',\n        control: 'news'\n      });\n      if (news.status === \"success\") {\n        if (news.data.length > 0) {\n          cards.value = news.data.map(cat => ({\n            id: cat.id,\n            location: cat.location,\n            category: cat.category ?? 'کلی',\n            description: cat.description,\n            created_at: cat.created_at,\n            type: cat.type,\n            media: cat.media\n          }));\n        }\n        isLoaded.value = true;\n      } else {\n        console.warn('دریافت دسته‌بندی‌ها ناموفق بود:', news);\n      }\n    };\n    news();\n    showNotification();\n    return (_ctx, _cache) => {\n      return !isLoaded.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \" در حال بارگذاری... \")) : cards.value.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(cards.value, card => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: card.id,\n          class: \"card\"\n        }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [card.location !== '' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(card.location), 1)) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_6, _toDisplayString(card.category), 1)]), card.media !== '' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString(card.media), 1)) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"p\", null, _toDisplayString(card.description), 1)])]), _createElementVNode(\"div\", _hoisted_9, [_cache[0] || (_cache[0] = _createElementVNode(\"span\", null, \" زمان ثبت \", -1)), _createElementVNode(\"span\", null, _toDisplayString(_unref(moment)(card.created_at).format('jYYYY/jMM/jDD')), 1)]), card.type === 'force' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \" فوری \")) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"a\", {\n          onClick: $event => _ctx.select(card.id)\n        }, \" انتخاب \", 8, _hoisted_12)])]);\n      }), 128))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, \" خبری در محدوده شما وجود ندارد \"));\n    };\n  }\n};","map":{"version":3,"names":["ref","moment","sendApi","useNotification","notif","showNotification","notify","title","text","type","isLoaded","cards","news","action","control","status","data","length","value","map","cat","id","location","category","description","created_at","media","console","warn"],"sources":["D:/GitHub/ci3-vue3/vue3/src/components/dashboard/pagesContent/NewsCards.vue"],"sourcesContent":["<template>\r\n    <div class=\"loading\" v-if=\"!isLoaded\">\r\n        در حال بارگذاری...\r\n    </div>\r\n    <div class=\"card-inner\" v-else-if=\"cards.length>0\">\r\n        <div v-for=\"card in cards\" :key=\"card.id\" class=\"card\">\r\n            <div class=\"info\">\r\n                <div class=\"card-header\">\r\n                    <div class=\"location\" v-if=\"card.location!==''\">\r\n                        {{ card.location }}\r\n                    </div>\r\n                    <div class=\"card-category\">\r\n                        {{ card.category }}\r\n                    </div>\r\n                </div>\r\n                <div class=\"medias\" v-if=\"card.media!==''\">\r\n                    {{ card.media }}\r\n                </div>\r\n                <div class=\"name\">\r\n                    <p>{{ card.description }}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"time\">\r\n                <span>\r\n                    زمان ثبت\r\n                </span>\r\n                <span>\r\n                    {{ moment(card.created_at).format('jYYYY/jMM/jDD') }}\r\n                </span>\r\n            </div>\r\n            <div class=\"type\" v-if=\"card.type ==='force'\">\r\n                فوری\r\n            </div>\r\n            <div class=\"choose\">\r\n                <a @click=\"select(card.id)\">\r\n                    انتخاب\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"none-cart-error\" v-else>\r\n        خبری در محدوده شما وجود ندارد\r\n    </div>\r\n</template>\r\n<script setup>\r\n    import { ref } from 'vue'\r\n    import moment from 'moment-jalaali'\r\n    import { sendApi } from '@/utils/api'\r\n    import { useNotification } from '@kyvg/vue3-notification';\r\n    const notif=useNotification() \r\n    const showNotification = () => {\r\n        notif.notify({\r\n            title: 'خبر جدید',\r\n            text: 'اخبار روز محدوده ی خود را با ما دنبال کنید',\r\n            type: 'info'\r\n        });\r\n    };\r\n    const isLoaded = ref(false)\r\n    const cards = ref([])\r\n    const news = async () => {\r\n        await sendApi({action: 'get_news',control:'news'});\r\n        if(news.status===\"success\") {\r\n            if(news.data.length>0){\r\n                cards.value = news.data.map(cat => ({\r\n                    id: cat.id,\r\n                    location: cat.location,\r\n                    category: cat.category??'کلی',\r\n                    description: cat.description,\r\n                    created_at: cat.created_at,\r\n                    type: cat.type,\r\n                    media: cat.media,\r\n                }))\r\n            }\r\n            isLoaded.value=true\r\n        } else {\r\n            console.warn('دریافت دسته‌بندی‌ها ناموفق بود:', news)\r\n        }\r\n    }\r\n    news();\r\n    showNotification();\r\n</script>\r\n<style scoped>\r\n    .card-inner{\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: row-reverse;\r\n        flex-wrap: wrap;\r\n        align-content: flex-start;\r\n        justify-content: flex-start;\r\n        align-items: stretch;\r\n    }\r\n    .card{\r\n        width: 23%;\r\n        height: 210px;\r\n        margin: 0 1% 0 0;\r\n        border-radius: 10px;\r\n        box-shadow: 0 0 5px grey;\r\n    }\r\n    .info{\r\n        margin-top: 7px;\r\n    }\r\n    .img {\r\n        float: left;\r\n        width: 40px;\r\n        height: 40px;\r\n        margin: 0 5px 0 15px;\r\n    }\r\n    .img img{\r\n        width: 100%;\r\n        height: 100%;\r\n        border-radius: 50px;\r\n    }\r\n    .name{\r\n        text-align: start;\r\n        width: calc(100% - 60px);\r\n        display: inline-block;\r\n        padding: 5px;\r\n    }\r\n    .name p:first-child{\r\n        font-size: 10px;\r\n    }\r\n    .name p:last-child{\r\n        font-size: 12px;\r\n    }\r\n    .follwer{\r\n        width: 100%;\r\n        display: flex;\r\n        margin-top: -3px;\r\n        margin-bottom: 7px;\r\n        height: 30px;\r\n        flex-direction: row-reverse;\r\n        flex-wrap: nowrap;\r\n        justify-content: center;\r\n        align-items: stretch;\r\n        text-align: center;\r\n    }\r\n    .count{\r\n        padding-right: 10px;\r\n    }\r\n    .inflowence{\r\n        padding-left: 10px;\r\n    }\r\n    .count,.inflowence{\r\n        width: 50%;\r\n        display: inline-block;\r\n    }\r\n    .count p,.inflowence p{\r\n        margin-top: -12px;\r\n        font-size: 12px;\r\n    }\r\n    .count svg,.inflowence svg{\r\n        height: 20px;\r\n        width: 20px;\r\n        fill: grey;\r\n    }\r\n    .category,.admin-info,.price{\r\n        height: 25px;\r\n        text-align: center;\r\n        width: 85%;\r\n        margin: 2px auto;\r\n        border-radius: 6px;\r\n        background: lightgray;\r\n    }\r\n    .category svg,.admin-info svg,.price svg{\r\n        width: 15px;\r\n        float: left;\r\n        height: 15px;\r\n        margin: 5px;\r\n        fill: gray;\r\n    }\r\n    .order-name{\r\n        margin-top: 4px;\r\n        font-size: 12px;\r\n    }\r\n    .time {\r\n        width: 80%;\r\n        margin: 0 auto;\r\n    }\r\n    .time span {\r\n        font-size: 10px;\r\n    }\r\n    .time span:first-child{\r\n        float: right;\r\n        direction: rtl;\r\n    }\r\n    .time span:last-child{\r\n        float: left;\r\n    }\r\n    .choose {\r\n        width: 85%;\r\n        margin: 0 auto;\r\n    }\r\n    .choosen{\r\n        width: 100%;\r\n        display: inline-block;\r\n        background: grey;\r\n        color: white;\r\n        border-radius: 10px;\r\n        height: 22px;\r\n        text-align: center;\r\n        font-size: 12px;\r\n        padding-top: 3px;\r\n    }\r\n    .choose a{\r\n        width: 100%;\r\n        background: #00f;\r\n        color: #fff;\r\n        border-radius: 10px;\r\n        display: inline-block;\r\n        height: 22px;\r\n        text-align: center;\r\n        font-size: 12px;\r\n        cursor: pointer;\r\n    }\r\n    .loading{\r\n        width: 90%;\r\n        text-align: center;\r\n        background: rgb(166, 181, 228);\r\n        margin: 0 auto;\r\n        border-radius: 10px;\r\n        color: white;\r\n        font-size: 20px;\r\n        height: 150px;\r\n        padding-top: 55px;\r\n    }\r\n    .none-cart-error {\r\n        width: 90%;\r\n        text-align: center;\r\n        background: red;\r\n        margin: 0 auto;\r\n        border-radius: 10px;\r\n        color: white;\r\n        font-size: 20px;\r\n        height: 150px;\r\n        padding-top: 55px;\r\n    }\r\n</style>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CI,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,MAAM,MAAM,gBAAgB;AACnC,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,eAAe,QAAQ,yBAAyB;;;;IACzD,MAAMC,KAAK,GAACD,eAAe,CAAC,CAAC;IAC7B,MAAME,gBAAgB,GAAGA,CAAA,KAAM;MAC3BD,KAAK,CAACE,MAAM,CAAC;QACTC,KAAK,EAAE,UAAU;QACjBC,IAAI,EAAE,4CAA4C;QAClDC,IAAI,EAAE;MACV,CAAC,CAAC;IACN,CAAC;IACD,MAAMC,QAAQ,GAAGV,GAAG,CAAC,KAAK,CAAC;IAC3B,MAAMW,KAAK,GAAGX,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMY,IAAI,GAAG,MAAAA,CAAA,KAAY;MACrB,MAAMV,OAAO,CAAC;QAACW,MAAM,EAAE,UAAU;QAACC,OAAO,EAAC;MAAM,CAAC,CAAC;MAClD,IAAGF,IAAI,CAACG,MAAM,KAAG,SAAS,EAAE;QACxB,IAAGH,IAAI,CAACI,IAAI,CAACC,MAAM,GAAC,CAAC,EAAC;UAClBN,KAAK,CAACO,KAAK,GAAGN,IAAI,CAACI,IAAI,CAACG,GAAG,CAACC,GAAG,KAAK;YAChCC,EAAE,EAAED,GAAG,CAACC,EAAE;YACVC,QAAQ,EAAEF,GAAG,CAACE,QAAQ;YACtBC,QAAQ,EAAEH,GAAG,CAACG,QAAQ,IAAE,KAAK;YAC7BC,WAAW,EAAEJ,GAAG,CAACI,WAAW;YAC5BC,UAAU,EAAEL,GAAG,CAACK,UAAU;YAC1BhB,IAAI,EAAEW,GAAG,CAACX,IAAI;YACdiB,KAAK,EAAEN,GAAG,CAACM;UACf,CAAC,CAAC,CAAC;QACP;QACAhB,QAAQ,CAACQ,KAAK,GAAC,IAAI;MACvB,CAAC,MAAM;QACHS,OAAO,CAACC,IAAI,CAAC,iCAAiC,EAAEhB,IAAI,CAAC;MACzD;IACJ,CAAC;IACDA,IAAI,CAAC,CAAC;IACNP,gBAAgB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}